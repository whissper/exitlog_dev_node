{"version":3,"sources":["App/Utils/useAppReducer.js","App/Utils/fetchData.js","App/Utils/processException.js","App/TopHeader/index.js","App/LightCover/index.js","App/WorkPanels/LoginForm/index.js","App/Utils/useMainInspectorPanelReducer.js","App/WorkPanels/MainInspectorPanel/Components/MainMenu/index.js","App/WorkPanels/MainInspectorPanel/Components/InfoBox/index.js","App/WorkPanels/MainInspectorPanel/Components/TabNewRecord/Menu/index.js","App/WorkPanels/MainInspectorPanel/Components/TabNewRecord/NewRecordForm/ExitObject/index.js","App/WorkPanels/MainInspectorPanel/Components/TabNewRecord/NewRecordForm/index.js","App/Utils/processToArray.js","App/WorkPanels/MainInspectorPanel/Components/TabNewRecord/InsertNewRecordModal/index.js","App/WorkPanels/MainInspectorPanel/Components/TabNewRecord/index.js","App/Utils/formatDate.js","App/WorkPanels/MainInspectorPanel/Components/TabLog/Menu/index.js","App/WorkPanels/MainInspectorPanel/Components/TabLog/Paginator/index.js","App/WorkPanels/MainInspectorPanel/Components/TabLog/Search/SearchItem/index.js","App/WorkPanels/MainInspectorPanel/Components/TabLog/Search/index.js","App/WorkPanels/MainInspectorPanel/Components/TabLog/TableInfo/index.js","App/WorkPanels/MainInspectorPanel/Components/TabLog/TableField/TableRow/index.js","App/WorkPanels/MainInspectorPanel/Components/TabLog/TableField/index.js","App/WorkPanels/MainInspectorPanel/Components/TabLog/DeleteRecordModal/index.js","App/WorkPanels/MainInspectorPanel/Components/TabLog/UpdateRecordModal/index.js","App/WorkPanels/MainInspectorPanel/Components/TabLog/index.js","App/WorkPanels/MainInspectorPanel/Components/TabUsers/Menu/index.js","App/WorkPanels/MainInspectorPanel/Components/TabUsers/Search/index.js","App/WorkPanels/MainInspectorPanel/Components/TabUsers/TableInfo/index.js","App/WorkPanels/MainInspectorPanel/Components/TabUsers/TableField/TableRow/index.js","App/WorkPanels/MainInspectorPanel/Components/TabUsers/TableField/index.js","App/WorkPanels/MainInspectorPanel/Components/TabUsers/LockUserModal/index.js","App/WorkPanels/MainInspectorPanel/Components/TabUsers/UpdateUserModal/index.js","App/WorkPanels/MainInspectorPanel/Components/TabUsers/index.js","App/WorkPanels/MainInspectorPanel/index.js","App/WorkPanels/CreatePasswordForm/index.js","App/WorkPanels/LoginFormLockedUser/index.js","App/WorkPanels/InspectorPanel/Components/MainMenu/index.js","App/WorkPanels/InspectorPanel/Components/TabLog/Menu/index.js","App/WorkPanels/InspectorPanel/Components/TabLog/Search/index.js","App/WorkPanels/InspectorPanel/Components/TabLog/index.js","App/WorkPanels/InspectorPanel/index.js","App/Workspace/index.js","App/index.js","index.js"],"names":["AppDispatch","React","createContext","reducer","state","action","type","isLoad","panelData","window","alert","useAppReducer","initialState","useReducer","REST_SERVICE_URL","serviceMethod","data","a","startLoad","stopLoad","response","url","fetch","method","credentials","headers","body","JSON","stringify","ok","text","status","statusText","fetchData","processException","dataObject","errorOccured","message","methodName","representError","errorInfo","indexOf","split","TopHeader","props","Container","fluid","className","Row","Col","xs","icon","faReact","size","faNode","LightCover","isLoading","style","visibility","opacity","id","faSpinner","spin","LoginForm","appDispatch","useContext","loadingTriggers","useState","usr","pwd","grr","setCredentials","handleChange","e","name","target","value","prevCredentials","handleKeyPress","charCode","doLogin","loadWorkspace","handleClick","userParams","parse","isvalid","userid","userrole","textResponse","panelDataJSON","lg","Form","Group","Label","Control","onChange","onKeyPress","Button","variant","block","onClick","MainInspectorPanelDispatch","infoBox","infoBoxData","panelTabs","paginators","pointsData","newRecordData","objects","addedObject","objectsAfterDel","filter","object","objectIndex","objectsAfterUpd","forEach","push","fields","insertNewRecordModal","insertNewRecordModalData","logData","logSearchFields","deleteRecordModal","deleteRecordModalData","updateRecordModal","updateRecordModalData","usersData","usersSearchFields","lockUserModal","lockUserModalData","updateUserModal","updateUserModalData","useMainInspectorPanelReducer","MainMenu","mainInspectorPanelDispatch","logoutIsClicked","panelID","userID","userFIO","depID","depName","menuButtonIsClicked","menuButtonID","freshPanelTabs","item","ButtonGroup","active","showNewRecordTab","showLogTab","showUsersTab","location","InfoBox","show","iconType","faTimesCircle","faInfoCircle","faCheckCircle","Alert","dismissible","onClose","Menu","InputGroup","Prepend","Text","faUser","FormControl","disabled","faBuilding","ExitObject","objectNameInput","useRef","onObjectUpdate","onObjectDelete","useEffect","objectNameElement","current","textInput","handleBlur","addEventListener","removeEventListener","objectName","objectNote","note","faMapMarkerAlt","ref","token","count","placeholder","query","suggestion","join","arr","separatorVal","separator","n","trim","postalindex","postal_code","region","region_type","area_type","area","town","city_type","city","settlement_type","settlement","street","street_type","building","house_type","house","block_type","apartment","flat_type","flat","geolat","qc_geo","geo_lat","geolon","geo_lon","oldformat","Append","faMinus","as","NewRecordForm","timeExitInput","timeReturnInput","dispatchChangeEvent","element","hoursNminutes","replace","parseInt","ev","Event","bubbles","dispatchEvent","timeExitElement","timeReturnElement","Inputmask","mask","greedy","oncomplete","onincomplete","remove","point_description","handleObjectUpdate","handleObjectDelete","Fragment","faPencilAlt","pointid","options","length","key","toString","getOptions","faClock","time_exit","time_return","faMapMarkedAlt","newIndex","indexes","map","Math","max","faPlus","formatNullValue","val","processToArray","InsertNewRecordModal","handleClose","handleAdd","newRecord","newRecordJSON","point","find","Modal","onHide","Header","closeButton","Title","Body","Table","bordered","hover","OverlayTrigger","placement","overlay","Tooltip","Badge","faComment","Footer","TabNewRecord","makeFixedFormat","formatDate","days","getDate","months","getMonth","fullYear","getFullYear","appDispath","sevenDaysAgo","Date","setDate","from","till","period","setPeriod","periodFromInput","periodTillInput","inputElements","inputElement","jQuery","on","off","datepicker","format","viewMode","minViewMode","language","periodFrom","periodTill","prevPeriod","periodData","startDate","endDate","href","faCalendarAlt","faFileExcel","Paginator","curPage","perPage","countRows","onItemClick","onPrevClick","onNextClick","onFirstClick","onLastClick","offset","floor","numberOfPages","ceil","itemClick","pageValue","attributes","pagenum","items","startItem","startItemValue","getStartItem","endItem","amoutOfItems","i","Pagination","Item","First","Prev","Next","Last","SearchItem","inputField","label","handleSearch","currentVal","params","delayTimer","clearTimeout","setTimeout","defaultValue","faTimes","Search","doSearch","searchParams","date","userFio","TableInfo","maxWidth","TableRow","day","pointDescription","timeExit","timeReturn","timeDuration","whiteSpace","index","minWidth","exitID","title","faPen","faTrashAlt","TableField","tableRows","rowItems","striped","DeleteRecordModal","handleDelete","UpdateRecordModal","exitFIO","setExitFIO","exitDate","setExitDate","setTimeExit","setTimeReturn","pointID","setPointID","setPointDescription","setObjects","selectExitByID","jsonResponse","prevVal","fioExitUpd","dateExitUpd","timeexitExitUpd","timereturnExitUpd","pointExitUpd","pointDescriptionExitUpd","objectsExitUpd","prevValue","objectVal","curObjects","handleSave","arrayOfObjects","jsonStringObjects","objectParams","timeexit","timereturn","faCalendarCheck","newObject","TabLog","paginatorData","logSearchFieldsData","handleItemClick","pageNumber","tabLogPage","countrows","perpage","rowitems","userLocked","handleUpdate","overlayText","textAlign","faIdCard","faLockOpen","faLock","LockUserModal","handleLockUnlock","apiMethod","titleVal","textVal","UpdateUserModal","userPassword","userCredentials","setUserCredentials","selectUserByID","departmentnameUserUpd","fioUserUpd","userCredentialsParams","fio","pass","firstlogin","TabUsers","usersSearchFieldsData","tabUsersPage","MainInspectorPanel","page","dispatch","selectPoints","selectExits","selectUsers","doSelect","selectData","processResult","points","userfio","objectname","Provider","activeTab","activeTabs","getActiveTab","CreatePasswordForm","pwdRepeat","buttonActive","updateUser","keepWorkspace","updatedUser","faUserCircle","readOnly","LoginFormLockedUser","InspectorPanel","Workspace","wsID","ID","getWorkPanel","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f5a17534.chunk.js","sourcesContent":["import React, { useReducer } from 'react';\r\n\r\nconst AppDispatch = React.createContext(null);\r\n\r\nfunction reducer(state, action) {\r\n    switch (action.type) {\r\n        case 'setIsLoad':\r\n            return {...state, isLoad: action.isLoad};\r\n        case 'setPanelData':\r\n            return {...state, panelData: action.panelData}\r\n        case 'alertInvalidCredentials':\r\n            window.alert('Wrong Login data');\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction useAppReducer(initialState) {\r\n    return useReducer(reducer, initialState);\r\n}\r\n\r\nexport default useAppReducer;\r\nexport { AppDispatch };\r\n","\r\nconst REST_SERVICE_URL = '/exitlog_dev/'; //'http://kom-es01-app25:8889/exitlog_dev/';\r\n\r\nasync function fetchData(serviceMethod, data, startLoad = () => {}, stopLoad = () => {}) {\r\n    let response = null;\r\n\r\n    const url = REST_SERVICE_URL + serviceMethod;\r\n\r\n    startLoad();\r\n\r\n    try {\r\n        response = await fetch(url, {\r\n            method: 'POST',\r\n            credentials: 'same-origin', //'include',\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8'\r\n            },\r\n            body: JSON.stringify(data)\r\n        });\r\n    } catch(error) {\r\n        stopLoad();\r\n        return 'ERROR_FETCH|' + error;\r\n    }\r\n\r\n    if (response.ok) {\r\n        const text = await response.text();\r\n        stopLoad();\r\n        return text;\r\n    } else {\r\n        stopLoad();\r\n        return 'ERROR_HTTP|' + response.status + ' -- ' + response.statusText;\r\n    }\r\n}\r\n\r\nexport default fetchData;\r\nexport { REST_SERVICE_URL };\r\n","/**\r\n * Process Error\r\n * @param {Object} dataObject\r\n * <dataObject.message> - special error message for identification of error type\r\n * <dataObject.methodName> - name of method where error has occurred\r\n * <dataObject.representError> - callback for representing error info\r\n * @returns {Boolean} Error either occurred (true) or didn't (false)\r\n */\r\nfunction processException(dataObject) {\r\n    let errorOccured = false;\r\n\r\n    let data = dataObject || {};\r\n    data.message = (typeof data.message === 'undefined') ? 'DEFAULT_MESSAGE' : data.message;\r\n    data.methodName = (typeof data.methodName === 'undefined') ? 'DEFAULT_METHOD' : data.methodName;\r\n    data.representError = (typeof data.representError === 'undefined') ?\r\n        function(errorInfo) { alert(errorInfo); } :\r\n        data.representError;\r\n    \r\n    if (data.message === 'ERROR_ACCESS_DENIED') {\r\n        errorOccured = true;\r\n        data.representError('access denied : method -- ' + data.methodName);\r\n    } else if (data.message.indexOf('ERROR_PDO') !== -1) {\r\n        errorOccured = true;\r\n        const errorInfo = data.message.split('|');\r\n        data.representError('PDO Error: (' + errorInfo[1] + ') : method -- ' + data.methodName);\r\n    } else if (data.message === 'CHANGE_IMPOSSIBLE') {\r\n        errorOccured = true;\r\n        data.representError('Изменение\\\\Удаление невозможно');\r\n    } else if (data.message === 'ERROR_POSTDATA_INCORRECT') {\r\n        errorOccured = true;\r\n        data.representError('postdata is incorrect : method -- ' + data.methodName);\r\n    } else if (data.message.indexOf('ERROR_FETCH') !== -1) {\r\n        errorOccured = true;\r\n        const errorInfo = data.message.split('|');\r\n        data.representError('can\\'t fetch data: ' + errorInfo[1]);\r\n    } else if (data.message.indexOf('ERROR_HTTP') !== -1) {\r\n        errorOccured = true;\r\n        const errorInfo = data.message.split('|');\r\n        data.representError('http error: ' + errorInfo[1]);\r\n    } else if (data.message.indexOf('ERROR_TIME') !== -1) {\r\n        errorOccured = true;\r\n        const errorInfo = data.message.split('|');\r\n        data.representError(errorInfo[1]);\r\n    } else if (data.message.indexOf('ERROR_WS') !== -1) {\r\n        errorOccured = true;\r\n        const errorInfo = data.message.split('|');\r\n        data.representError('Web service call error: ' + errorInfo[1]);\r\n    } else if (data.message.indexOf('ERROR_SOAP') !== -1) {\r\n        errorOccured = true;\r\n        const errorInfo = data.message.split('|');\r\n        data.representError('SOAP Web service call error: ' + errorInfo[1]);\r\n    } else if (data.message.indexOf('ERROR_JAVA') !== -1) {\r\n        errorOccured = true;\r\n        const errorInfo = data.message.split('|');\r\n        data.representError('Java runtime error: ' + errorInfo[1]);\r\n    }\r\n\r\n    return errorOccured;\r\n}\r\n\r\nexport default processException;\r\n","import React from 'react';\r\nimport './TopHeader.css';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faNode, faReact } from '@fortawesome/free-brands-svg-icons'\r\n\r\nfunction TopHeader(props) {\r\n\r\n    return (\r\n        <Container fluid className=\"sav2-top-header\">\r\n            <Row>\r\n                <Col className=\"justify-content-center align-self-center\">EXIT-LOG</Col>\r\n                <Col xs=\"auto\" className=\"justify-content-center align-self-center\"> v 0.8.0</Col>\r\n                <Col xs=\"auto\" className=\"justify-content-center align-self-center\">\r\n                    <FontAwesomeIcon icon={faReact} size=\"3x\" />\r\n                </Col>\r\n                <Col xs=\"auto\" className=\"justify-content-center align-self-center\">\r\n                    <FontAwesomeIcon icon={faNode} size=\"4x\" />\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n\r\n}\r\n\r\nexport default TopHeader;","import React from 'react';\r\nimport './LightCover.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction LightCover(props) {\r\n\r\n    const { isLoading } = props;\r\n\r\n    const style = {\r\n        visibility: isLoading ? 'visible' : 'hidden',\r\n        opacity: isLoading ? '1' : '0'\r\n    };\r\n\r\n    return (\r\n        <div id=\"light_cover\" style={style}>\r\n            <div className=\"light_cover_info\">\r\n                <FontAwesomeIcon icon={faSpinner} size=\"5x\" spin />\r\n                <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LightCover;\r\n","import React, { useState, useContext } from 'react';\r\nimport './LoginForm.css';\r\nimport { Row, Col, Form, Button } from 'react-bootstrap';\r\nimport { AppDispatch } from 'App/Utils/useAppReducer';\r\nimport fetchData from 'App/Utils/fetchData';\r\nimport processException from 'App/Utils/processException';\r\n\r\n\r\nfunction LoginForm(props) {\r\n    const appDispatch = useContext(AppDispatch);\r\n\r\n    const loadingTriggers = [\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: true }); },\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: false }) }\r\n    ];\r\n\r\n    const [credentials, setCredentials] = useState({\r\n        id: 'isuservalid',\r\n        usr: '',\r\n        pwd: '',\r\n        grr: ''\r\n    });\r\n\r\n    const handleChange = (e) => {\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n\r\n        setCredentials((prevCredentials) => (\r\n            {...prevCredentials, [name]: value}\r\n        ));\r\n    };\r\n\r\n    const handleKeyPress = async (e) => {\r\n        const charCode = e.charCode;\r\n        //'Enter' key is pressed\r\n        if (charCode === 13) {\r\n            const userParams = await doLogin();\r\n            loadWorkspace(userParams);\r\n        }\r\n    };\r\n\r\n    const handleClick = async () => {\r\n        const userParams = await doLogin();\r\n        loadWorkspace(userParams);\r\n    };\r\n\r\n    async function loadWorkspace(userParams) {\r\n        if (userParams !== null) {\r\n            const data = JSON.parse(userParams);\r\n\r\n            if (data.isvalid) {\r\n                const textResponse = await fetchData(\r\n                    'load_workspace',\r\n                    { userid: data.userid, userrole: data.userrole },\r\n                    ...loadingTriggers\r\n                );\r\n\r\n                const response = {\r\n                    message: textResponse,\r\n                    methodName: 'LoginForm.loadWorkspace()'\r\n                };\r\n                \r\n                if (!processException(response)) {\r\n                    const panelDataJSON = JSON.parse(textResponse);\r\n                    \r\n                    appDispatch({\r\n                        type: 'setPanelData', \r\n                        panelData: panelDataJSON\r\n                    });\r\n                }\r\n            } else {\r\n                appDispatch({ type: 'alertInvalidCredentials' });\r\n            }\r\n        }\r\n    }\r\n    \r\n    async function doLogin() {\r\n        const textResponse = await fetchData(\r\n            'login',\r\n            credentials,\r\n            ...loadingTriggers\r\n        );\r\n\r\n        const response = {\r\n            message: textResponse,\r\n            methodName: 'LoginForm.doLogin()'\r\n        };\r\n        \r\n        if (!processException(response)) {\r\n            return textResponse;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Row>\r\n            <Col lg={12}>\r\n                <Form.Group>\r\n                    <Form.Label>Login:</Form.Label>\r\n                    <Form.Control type=\"text\" name=\"usr\" onChange={handleChange} onKeyPress={handleKeyPress} />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Password:</Form.Label>\r\n                    <Form.Control type=\"password\" name=\"pwd\" onChange={handleChange} onKeyPress={handleKeyPress} />\r\n                </Form.Group>\r\n                <Button variant=\"primary\" size=\"lg\" block onClick={handleClick}>Вход</Button>\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n\r\nexport default LoginForm;\r\n","import React, { useReducer } from 'react';\r\n\r\nconst MainInspectorPanelDispatch = React.createContext(null);\r\n\r\nfunction reducer(state, action) {\r\n    switch (action.type) {\r\n        case 'setInfoBox':\r\n            return { ...state, infoBox: action.infoBoxData };\r\n        case 'setPanelTabs':\r\n            return { ...state, panelTabs: action.panelTabs };\r\n        case 'setPaginators':\r\n            return {\r\n                ...state,\r\n                paginators: {\r\n                    ...state.paginators,\r\n                    ...action.paginators\r\n                }\r\n            };\r\n        //NewRecord\r\n        case 'setPointsData':\r\n            return { ...state, pointsData: action.pointsData };\r\n        case 'setNewRecordData':\r\n            return {\r\n                ...state,\r\n                newRecordData: {\r\n                    ...state.newRecordData,\r\n                    ...action.newRecordData\r\n                }\r\n            };\r\n        case 'addExitObject':\r\n            return {\r\n                ...state,\r\n                newRecordData: {\r\n                    ...state.newRecordData,\r\n                    objects: [...state.newRecordData.objects, action.addedObject]\r\n                } \r\n            }\r\n        case 'deleteExitObject':\r\n            const objectsAfterDel = state.newRecordData.objects.filter((object) => (\r\n                object.objectIndex !== action.objectIndex\r\n            ));\r\n\r\n            return {\r\n                ...state,\r\n                newRecordData: {\r\n                    ...state.newRecordData,\r\n                    objects: objectsAfterDel\r\n                }\r\n            };\r\n        case 'updateExitObject':\r\n            let objectsAfterUpd = [];\r\n\r\n            state.newRecordData.objects.forEach((object) => {\r\n                if (object.objectIndex !== action.object.objectIndex) {\r\n                    objectsAfterUpd.push(object);\r\n                } else {\r\n                    objectsAfterUpd.push({\r\n                        objectIndex: action.object.objectIndex,\r\n                        fields: { ...object.fields, ...action.object.fields }\r\n                    });\r\n                }\r\n            });\r\n            \r\n            return {\r\n                ...state,\r\n                newRecordData: {\r\n                    ...state.newRecordData,\r\n                    objects: objectsAfterUpd\r\n                }\r\n            };\r\n        case 'setInsertNewRecordModal':\r\n            return {\r\n                ...state,\r\n                insertNewRecordModal: {\r\n                    ...state.insertNewRecordModal,\r\n                    ...action.insertNewRecordModalData\r\n                }\r\n            };\r\n        //Log\r\n        case 'setLogData':\r\n            return { ...state, logData: action.logData};\r\n        case 'setLogSearchFields':\r\n            return {\r\n                ...state,\r\n                logSearchFields: {\r\n                    ...state.logSearchFields,\r\n                    ...action.logSearchFields\r\n                }\r\n            };\r\n        case 'setDeleteRecordModal':\r\n            return { ...state, \r\n                deleteRecordModal: {\r\n                    ...state.deleteRecordModal,\r\n                    ...action.deleteRecordModalData\r\n                }\r\n            };\r\n        case 'setUpdateRecordModal':\r\n            return { ...state,\r\n                updateRecordModal: {\r\n                    ...state.updateRecordModal,\r\n                    ...action.updateRecordModalData\r\n                }\r\n            };\r\n        //Users\r\n        case 'setUsersData':\r\n            return { ...state, usersData: action.usersData };\r\n        case 'setUsersSearchFields':\r\n            return {\r\n                ...state,\r\n                usersSearchFields: {\r\n                    ...state.usersSearchFields,\r\n                    ...action.usersSearchFields\r\n                }\r\n            };\r\n        case 'setLockUserModal':\r\n            return {\r\n                ...state,\r\n                lockUserModal: {\r\n                    ...state.lockUserModal,\r\n                    ...action.lockUserModalData\r\n                }\r\n            };\r\n        case 'setUpdateUserModal':\r\n            return { ...state,\r\n                updateUserModal: {\r\n                    ...state.updateUserModal,\r\n                    ...action.updateUserModalData\r\n                }\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction useMainInspectorPanelReducer(initialState) {\r\n    return useReducer(reducer, initialState);\r\n}\r\n\r\nexport default useMainInspectorPanelReducer;\r\nexport { MainInspectorPanelDispatch };","import React, { useContext } from 'react';\r\nimport './MainMenu.css';\r\nimport {AppDispatch} from 'App/Utils/useAppReducer';\r\nimport {MainInspectorPanelDispatch} from 'App/Utils/useMainInspectorPanelReducer';\r\nimport fetchData from 'App/Utils/fetchData';\r\nimport processException from 'App/Utils/processException';\r\nimport { Row, Col, Button, ButtonGroup } from 'react-bootstrap';\r\n\r\n\r\nfunction MainMenu(props) {\r\n\r\n    const appDispatch = useContext(AppDispatch);\r\n    const mainInspectorPanelDispatch = useContext(MainInspectorPanelDispatch);\r\n\r\n    const loadingTriggers = [\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: true }); },\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: false }); }\r\n    ];\r\n\r\n    const { data, panelData } = props;\r\n\r\n    const logoutIsClicked = async () => {\r\n        const textResponse = await fetchData(\r\n            'logout',\r\n            { id: '0' },\r\n            ...loadingTriggers\r\n        );\r\n\r\n        const response = {\r\n            message: textResponse,\r\n            methodName: 'MainInspectorPanel.MainMenu.logoutIsClicked()'\r\n        };\r\n\r\n        if (!processException(response)) {\r\n            appDispatch({\r\n                type: 'setPanelData',\r\n                panelData: {\r\n                    panelID: '0',\r\n                    userID: '',\r\n                    userFIO: '',\r\n                    depID: '',\r\n                    depName: ''\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    const menuButtonIsClicked = (e) => {\r\n        const menuButtonID = e.target.id;\r\n\r\n        let freshPanelTabs = {};\r\n\r\n        for (let item in data) {\r\n            if (item === menuButtonID) {\r\n                freshPanelTabs[item] = true;\r\n            } else {\r\n                freshPanelTabs[item] = false;\r\n            }\r\n        }\r\n        \r\n        mainInspectorPanelDispatch({\r\n            type: 'setPanelTabs',\r\n            panelTabs: freshPanelTabs\r\n        });\r\n    };\r\n\r\n    const goToDocXIsClicked = () => {\r\n        window.location = 'http://kom-es01-app25:8888/docx/';\r\n    };\r\n\r\n    const goToActsIsClicked = () => {\r\n        window.location = \"http://kom-es01-app25:8888/acts/\";\r\n    };\r\n\r\n    return (\r\n        <Row>\r\n            <Col lg={12}>\r\n                <ButtonGroup className=\"flex-wrap\">\r\n                    <Button variant=\"outline-secondary\" active={data.showNewRecordTab} onClick={menuButtonIsClicked} id=\"showNewRecordTab\">Новая запись</Button>\r\n                    <Button variant=\"outline-secondary\" active={data.showLogTab} onClick={menuButtonIsClicked} id=\"showLogTab\">Журнал</Button>\r\n                    <Button variant=\"outline-secondary\" active={data.showUsersTab} onClick={menuButtonIsClicked} id=\"showUsersTab\">Пользователи</Button>\r\n                    <Button variant=\"outline-info\" onClick={goToDocXIsClicked} >Акт обследования</Button>\r\n                    {(panelData.depID === 2 || panelData.depID === 3) &&\r\n                        <Button variant=\"outline-info\" onClick={goToActsIsClicked} >Бланки Ухта</Button>\r\n                    }\r\n                    <Button variant=\"primary\" onClick={logoutIsClicked} >Выйти</Button>\r\n                </ButtonGroup>\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n\r\nexport default MainMenu;\r\n","import React, { useContext } from 'react';\r\nimport './InfoBox.css';\r\nimport { Row, Col, Alert } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTimesCircle } from '@fortawesome/free-regular-svg-icons';\r\nimport { faInfoCircle, faCheckCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { MainInspectorPanelDispatch } from 'App/Utils/useMainInspectorPanelReducer';\r\n\r\n\r\nfunction InfoBox(props) {\r\n\r\n    const mainInspectorPanelDispatch = useContext(MainInspectorPanelDispatch);\r\n\r\n    const { variant, text, show } = props.data;\r\n\r\n    const closeInfoBox = () => {\r\n        mainInspectorPanelDispatch({ type: 'setInfoBox', infoBoxData: {...props.data, show: false} });\r\n    };\r\n\r\n    let iconType = faTimesCircle;\r\n\r\n    switch (variant) {\r\n        case 'danger':\r\n            iconType = faTimesCircle;\r\n            break;\r\n        case 'info':\r\n            iconType = faInfoCircle;\r\n            break;\r\n        case 'success':\r\n            iconType = faCheckCircle;\r\n            break;\r\n        default:\r\n            iconType = faInfoCircle;\r\n            break;\r\n    }\r\n\r\n    return (\r\n        <Row>\r\n            <Col lg={12}>\r\n                <Alert variant={variant} dismissible onClose={closeInfoBox} show={show} >\r\n                    <FontAwesomeIcon icon={iconType} size=\"lg\" />\r\n                    &nbsp;{text}\r\n                </Alert>\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n\r\nexport default InfoBox;\r\n","import React from 'react';\r\nimport './Menu.css';\r\nimport { Row, Col, InputGroup, FormControl } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUser, faBuilding } from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\nfunction Menu(props) {\r\n\r\n    const { data } = props;\r\n\r\n    return (\r\n        <Row>\r\n            <Col lg={12}>\r\n                <Row>\r\n                    <Col lg={4}>\r\n                        <InputGroup className=\"sav2-mb-1\">\r\n                            <InputGroup.Prepend>\r\n                                <InputGroup.Text>\r\n                                    <FontAwesomeIcon icon={faUser} size=\"1x\" />\r\n                                    &nbsp;&nbsp;Сотрудник&nbsp;:\r\n                                </InputGroup.Text>\r\n                            </InputGroup.Prepend>\r\n                            <FormControl disabled value={data.userFIO} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    <Col lg={8}>\r\n                        <InputGroup className=\"sav2-mb-1\">\r\n                            <InputGroup.Prepend>\r\n                                <InputGroup.Text>\r\n                                    <FontAwesomeIcon icon={faBuilding} size=\"1x\" />\r\n                                    &nbsp;&nbsp;Подразделение&nbsp;:\r\n                                </InputGroup.Text>\r\n                            </InputGroup.Prepend>\r\n                            <FormControl disabled value={data.depName} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                </Row>\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n\r\nexport default Menu;\r\n","import React, { useRef, useEffect } from 'react';\r\nimport './ExitObject.css';\r\nimport { Col, Form, InputGroup, Button } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faMinus, faMapMarkerAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { ReactDadata } from 'react-dadata';\r\n\r\n\r\nfunction ExitObject(props) {\r\n\r\n    const objectNameInput = useRef(null);\r\n\r\n    const {\r\n        objectIndex,\r\n        data,\r\n        onObjectUpdate,\r\n        onObjectDelete\r\n    } = props;\r\n    \r\n    useEffect(()=> {\r\n        const objectNameElement = objectNameInput.current.textInput;\r\n\r\n        const handleBlur = (e) => {\r\n            const value = e.target.value;\r\n\r\n            const object = {\r\n                objectIndex: objectIndex,\r\n                fields: {\r\n                    name: value\r\n                }\r\n            };\r\n\r\n            onObjectUpdate(object);\r\n        };\r\n\r\n        objectNameElement.addEventListener('blur', handleBlur);\r\n\r\n        return () => {\r\n            objectNameElement.removeEventListener('blur', handleBlur);\r\n        };\r\n    }, [onObjectUpdate, objectIndex]);\r\n\r\n    const handleNoteChange = (e) => {\r\n        const value = e.target.value;\r\n\r\n        const object = {\r\n            objectIndex: objectIndex,\r\n            fields: {\r\n                note: value\r\n            }\r\n        };\r\n\r\n        onObjectUpdate(object);\r\n    };\r\n\r\n    const handleObjectChange = (suggestion) => {\r\n        //join strings with separators\r\n        const join = (arr, separatorVal) => {\r\n            const separator = (separatorVal ? separatorVal : ', ');\r\n            return arr.filter((n) => (n)).join(separator);\r\n        };\r\n\r\n        const name = suggestion.value.trim();\r\n        const postalindex = suggestion.data.postal_code;\r\n        const region = join([\r\n            join([suggestion.data.region_type, suggestion.data.region], ' '),\r\n            join([suggestion.data.area_type, suggestion.data.area], ' ')\r\n        ]);\r\n        const town = join([\r\n            join([suggestion.data.city_type, suggestion.data.city], ' '),\r\n            join([suggestion.data.settlement_type, suggestion.data.settlement], ' ')\r\n        ]);\r\n        const street = join([suggestion.data.street_type, suggestion.data.street], ' ');\r\n        const building = join([\r\n            join([suggestion.data.house_type, suggestion.data.house], ' '),\r\n            join([suggestion.data.block_type, suggestion.data.block], ' ')\r\n        ]);\r\n        const apartment = join([suggestion.data.flat_type, suggestion.data.flat], ' ');\r\n        const geolat = (suggestion.data.qc_geo !== '5' ? suggestion.data.geo_lat : '');\r\n        const geolon = (suggestion.data.qc_geo !== '5' ? suggestion.data.geo_lon : '');\r\n        \r\n        const oldformat = (( street.trim() === '' || building.trim() === '' ) ? '1' : '0');\r\n\r\n        const object = {\r\n            objectIndex: objectIndex,\r\n            fields: {\r\n                name: name,\r\n                postalindex: postalindex,\r\n                region: region,\r\n                town: town,\r\n                street: street,\r\n                building: building,\r\n                apartment: apartment,\r\n                geolat: geolat,\r\n                geolon: geolon,\r\n                oldformat: oldformat \r\n            }\r\n        };\r\n\r\n        onObjectUpdate(object);\r\n    };\r\n\r\n    const handleDel = () => {\r\n        onObjectDelete(objectIndex);\r\n    };\r\n\r\n    let objectName = '';\r\n    let objectNote = '';\r\n\r\n    data.forEach((object) => {\r\n        if (object.objectIndex === objectIndex) {\r\n            objectName = object.fields.name;\r\n            objectNote = object.fields.note;\r\n        }\r\n    });\r\n\r\n    return (\r\n        <Col lg={12}>\r\n            <Form.Group>\r\n                <Form.Label>\r\n                    <FontAwesomeIcon icon={faMapMarkerAlt} size=\"1x\" />\r\n                    &nbsp;Объект выхода :\r\n                </Form.Label>\r\n                <InputGroup>\r\n                    <ReactDadata className=\"form-control\" name=\"objectName\" ref={objectNameInput}\r\n                        token=\"aa87679e3bfbbdaca05a44aa93ad6af10d54045a\" count={7} placeholder=\"Адрес\"\r\n                        query={objectName} onChange={handleObjectChange} />\r\n                    <InputGroup.Append>\r\n                        <Button variant=\"outline-secondary\" onClick={handleDel}>\r\n                            <FontAwesomeIcon icon={faMinus} />\r\n                        </Button>\r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n            </Form.Group>\r\n            <Form.Control as=\"input\" type=\"text\" placeholder=\"Примечание\" className=\"mb-3\"\r\n                name=\"objectNote\" value={objectNote} onChange={handleNoteChange} />\r\n        </Col>\r\n    );\r\n}\r\n\r\nexport default ExitObject;\r\n","import React, { useContext, useEffect, useRef } from 'react';\r\nimport './NewRecordForm.css';\r\nimport { Row, Col, Form, InputGroup, Button } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus, faMapMarkedAlt, faClock, faPencilAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport ExitObject from './ExitObject';\r\nimport { MainInspectorPanelDispatch } from 'App/Utils/useMainInspectorPanelReducer';\r\nimport Inputmask from 'inputmask';\r\n\r\n\r\nfunction NewRecordForm(props) {\r\n\r\n    const mainInspectorPanelDispatch = useContext(MainInspectorPanelDispatch);\r\n\r\n    const { pointsData, data } = props;\r\n\r\n    const timeExitInput = useRef(null);\r\n    const timeReturnInput = useRef(null);\r\n\r\n    //Input-Mask -- start --\r\n    useEffect(() => {\r\n        //autocomplete + dispatch event\r\n        const dispatchChangeEvent = (element) => {\r\n            let elementVal = element.value.replace(/_/g, '0');\r\n            let hoursNminutes = elementVal.split(':');\r\n            if (parseInt(hoursNminutes[0])>18) {\r\n                hoursNminutes[0]='18';\r\n            }\r\n            if (parseInt(hoursNminutes[0])<9) {\r\n                hoursNminutes[0]='09';\r\n            }\r\n            if (parseInt(hoursNminutes[1])>59) {\r\n                hoursNminutes[1]='59';\r\n            }\r\n            element.value = hoursNminutes[0]+':'+hoursNminutes[1];\r\n            const ev = new Event('change', { bubbles: true });\r\n            element.dispatchEvent(ev);\r\n        };\r\n\r\n        const timeExitElement = timeExitInput.current;\r\n        const timeReturnElement = timeReturnInput.current;\r\n\r\n        //time_exit\r\n        Inputmask({\r\n            mask: \"99:99\", \r\n            greedy: false,\r\n            oncomplete: () => {\r\n                dispatchChangeEvent(timeExitElement);\r\n            },\r\n            onincomplete: () => {\r\n                dispatchChangeEvent(timeExitElement);\r\n            }\r\n        }).mask(timeExitElement);\r\n\r\n        //time_return\r\n        Inputmask({\r\n            mask: \"99:99\", \r\n            greedy: false,\r\n            oncomplete: () => {\r\n                dispatchChangeEvent(timeReturnElement);\r\n            },\r\n            onincomplete: () => {\r\n                dispatchChangeEvent(timeReturnElement);\r\n            }\r\n        }).mask(timeReturnElement);\r\n\r\n        return () => {\r\n            Inputmask.remove(timeExitElement);\r\n            Inputmask.remove(timeReturnElement);\r\n        };\r\n    }, []);\r\n\r\n    const getOptions = () => {\r\n        let options = [];\r\n\r\n        if (pointsData.length !== 0) {\r\n            pointsData.forEach(item => {\r\n                options.push(<option key={item.id.toString()} value={item.id.toString()}>{item.name}</option>);\r\n            });\r\n        }\r\n\r\n        options.push(<option key=\"5\" value=\"5\">Другое:</option>);\r\n\r\n        return options;\r\n    };\r\n\r\n    const handleChange = async (e) => {\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n\r\n        await mainInspectorPanelDispatch({\r\n            type: 'setNewRecordData',\r\n            newRecordData: { [name]: value }\r\n        });\r\n\r\n        if (name === 'pointid' && value !== '5') {\r\n            mainInspectorPanelDispatch({\r\n                type: 'setNewRecordData',\r\n                newRecordData: { point_description: '' }\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleAddObject = () => {\r\n        let newIndex = 1;\r\n\r\n        if (data.objects.length !== 0) {\r\n            const indexes = data.objects.map((object) => (object.objectIndex));\r\n            newIndex = Math.max(...indexes) + 1;         \r\n        }\r\n\r\n        const newObject = { \r\n            objectIndex: newIndex,\r\n            fields: {\r\n                name        : '',\r\n                note        : '',\r\n                postalindex : '',\r\n                region      : '',\r\n                town        : '',\r\n                street      : '',\r\n                building    : '',\r\n                apartment   : '',\r\n                geolat      : '',\r\n                geolon      : '',\r\n                oldformat   : '1'\r\n            }\r\n        };\r\n\r\n        mainInspectorPanelDispatch({\r\n            type: 'addExitObject',\r\n            addedObject: newObject\r\n        });\r\n    };\r\n\r\n    const handleAddRecord = () => {\r\n        mainInspectorPanelDispatch({\r\n            type: 'setInsertNewRecordModal',\r\n            insertNewRecordModalData: { show: true }\r\n        });\r\n    };\r\n\r\n    const handleObjectUpdate = (object) => {\r\n        mainInspectorPanelDispatch({\r\n            type: 'updateExitObject',\r\n            object: object\r\n        });\r\n    };\r\n\r\n    const handleObjectDelete = (objectIndex) => {\r\n        mainInspectorPanelDispatch({\r\n            type: 'deleteExitObject',\r\n            objectIndex: objectIndex\r\n        });\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Row>\r\n                <Col lg={6}>\r\n                    <Form.Group>\r\n                        <Form.Label>\r\n                            <FontAwesomeIcon icon={faPencilAlt} size=\"1x\" />\r\n                            &nbsp;Цель выхода :\r\n                        </Form.Label>\r\n                        <Form.Control as=\"select\" name=\"pointid\"\r\n                            value={data.pointid} onChange={handleChange}>\r\n                            {getOptions()}\r\n                        </Form.Control>\r\n                        <br />\r\n                        {\r\n                            data.pointid === '5' &&\r\n                            <Form.Control as=\"input\" type=\"text\" name=\"point_description\"\r\n                                value={data.point_description} onChange={handleChange} />\r\n                        }\r\n                    </Form.Group>\r\n                </Col>\r\n                <Col lg={6}>\r\n                    <Form.Group>\r\n                        <Form.Label>\r\n                            <FontAwesomeIcon icon={faClock} size=\"1x\" />\r\n                            &nbsp;Время :\r\n                        </Form.Label>\r\n                        <InputGroup>\r\n                            <InputGroup.Prepend>\r\n                                <InputGroup.Text>с&nbsp;:</InputGroup.Text>\r\n                            </InputGroup.Prepend>\r\n                            <Form.Control as=\"input\" type=\"text\" name=\"time_exit\"\r\n                                value={data.time_exit} onChange={handleChange} ref={timeExitInput}\r\n                                placeholder=\"00:00\" />\r\n                            <div className=\"input-group-prepend input-group-append\">\r\n                                <InputGroup.Text>до&nbsp;:</InputGroup.Text>\r\n                            </div>\r\n                            <Form.Control as=\"input\" type=\"text\" name=\"time_return\"\r\n                                value={data.time_return} onChange={handleChange} ref={timeReturnInput}\r\n                                placeholder=\"00:00\" />\r\n                        </InputGroup>\r\n                    </Form.Group>\r\n                </Col>\r\n                <Col lg={12}>\r\n                    <hr />\r\n                </Col>\r\n                <Col lg={6}>\r\n                    <InputGroup>\r\n                        <InputGroup.Prepend>\r\n                                <InputGroup.Text>\r\n                                    <FontAwesomeIcon icon={faMapMarkedAlt} size=\"1x\" />\r\n                                </InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <Form.Control as=\"input\" type=\"text\" disabled value=\"Объекты :\" />\r\n                        <InputGroup.Append>\r\n                            <Button variant=\"outline-secondary\" onClick={handleAddObject}>\r\n                                <FontAwesomeIcon icon={faPlus} />\r\n                            </Button>\r\n                        </InputGroup.Append>\r\n                    </InputGroup>\r\n                </Col>\r\n                <Col lg={12}>\r\n                    <br />\r\n                </Col>\r\n\r\n                {\r\n                    data.objects.map((object) => ( \r\n                        <ExitObject key={object.objectIndex.toString()} \r\n                            objectIndex={object.objectIndex} \r\n                            data={data.objects}\r\n                            onObjectUpdate={handleObjectUpdate}\r\n                            onObjectDelete={handleObjectDelete} /> \r\n                    ))\r\n                }\r\n\r\n                <Col lg={12}>\r\n                    <hr />\r\n                </Col>\r\n                <Col lg={12}>\r\n                    <Button variant=\"primary\" size=\"lg\" onClick={handleAddRecord}>Записаться</Button>\r\n                </Col>\r\n            </Row>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default NewRecordForm;\r\n","function formatNullValue(val) {\r\n    if (val === null) {\r\n        return '';\r\n    } else {\r\n        return val;\r\n    }\r\n}; \r\n\r\nfunction processToArray(object) {\r\n    return [\r\n        formatNullValue(object.name),\r\n        formatNullValue(object.note),\r\n        formatNullValue(object.postalindex),\r\n        formatNullValue(object.region),\r\n        formatNullValue(object.town),\r\n        formatNullValue(object.street),\r\n        formatNullValue(object.building),\r\n        formatNullValue(object.apartment),\r\n        formatNullValue(object.geolat),\r\n        formatNullValue(object.geolon),\r\n        formatNullValue(object.oldformat) \r\n    ];\r\n};\r\n\r\nexport default processToArray;\r\n","import React, { useContext } from 'react';\r\nimport './InsertNewRecordModal.css';\r\nimport { \r\n    Modal, \r\n    Button, \r\n    Table, \r\n    Badge, \r\n    OverlayTrigger, \r\n    Tooltip \r\n} from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faComment } from '@fortawesome/free-solid-svg-icons';\r\nimport { MainInspectorPanelDispatch } from 'App/Utils/useMainInspectorPanelReducer'\r\nimport { AppDispatch } from 'App/Utils/useAppReducer';\r\nimport fetchData from 'App/Utils/fetchData';\r\nimport processException from 'App/Utils/processException';\r\nimport processToArray from 'App/Utils/processToArray';\r\n\r\nfunction InsertNewRecordModal(props) {\r\n\r\n    const mainInspectorPanelDispatch = useContext(MainInspectorPanelDispatch);\r\n    const appDispatch = useContext(AppDispatch);\r\n\r\n    const loadingTriggers = [\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: true }); },\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: false }); }\r\n    ];\r\n\r\n    const {\r\n        data,\r\n        newRecordData,\r\n        panelData,\r\n        pointsData\r\n    } = props;\r\n\r\n    const handleClose = () => {\r\n        mainInspectorPanelDispatch({\r\n            type: 'setInsertNewRecordModal',\r\n            insertNewRecordModalData: { show: false }\r\n        });\r\n    };\r\n\r\n    const handleAdd = async () => {\r\n        const newRecord = {\r\n            userid              : newRecordData.userid.toString(),\r\n            pointid             : newRecordData.pointid,\r\n            point_description   : newRecordData.point_description,\r\n            time_exit           : newRecordData.time_exit,\r\n            time_return         : newRecordData.time_return,\r\n            objects             : newRecordData.objects.map(\r\n                                    (object) => (processToArray(object.fields))\r\n                                  )\r\n        };\r\n\r\n        const textResponse = await fetchData(\r\n            'insert_newrecord',\r\n            { newRecordJSON: JSON.stringify(newRecord) },\r\n            ...loadingTriggers\r\n        );\r\n\r\n        await mainInspectorPanelDispatch({\r\n            type: 'setNewRecordData',\r\n            newRecordData: {\r\n                pointid: '1',\r\n                point_description: '',\r\n                time_exit: '',\r\n                time_return: '',\r\n                objects: []\r\n            }\r\n        });\r\n\r\n        mainInspectorPanelDispatch({\r\n            type: 'setInsertNewRecordModal',\r\n            insertNewRecordModalData: { show: false }\r\n        });\r\n\r\n        const response = {\r\n            message: textResponse,\r\n            methodName: 'InsertNewRecordModal.handleAdd()',\r\n            representError: (errorInfo) => {\r\n                mainInspectorPanelDispatch({\r\n                    type: 'setInfoBox',\r\n                    infoBoxData: { variant: 'danger', text: errorInfo, show: true }\r\n                });\r\n            }\r\n        };\r\n\r\n        if (!processException(response)) {\r\n            mainInspectorPanelDispatch({\r\n                type: 'setInfoBox',\r\n                infoBoxData: { variant: 'success', text: textResponse, show: true }\r\n            });\r\n        }\r\n    };\r\n\r\n    const point = pointsData.find(\r\n        (point) => (point.id === parseInt(newRecordData.pointid))\r\n    );\r\n\r\n    return (\r\n        <Modal show={data.show} onHide={handleClose}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Добавление новой записи в журнал</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <p>Данные новой записи:</p>\r\n                <Table bordered hover>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>Сотрудник:</td>\r\n                            <td>{panelData.userFIO}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Цель выхода:</td>\r\n                            <td>\r\n                                {point ? point.name.trim() : 'Другое: '} \r\n                                {newRecordData.point_description}\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Время выхода:</td>\r\n                            <td>{newRecordData.time_exit}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Время возврата:</td>\r\n                            <td>{newRecordData.time_return}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Объекты:</td>\r\n                            <td>\r\n                                <ul>\r\n                                    {\r\n                                        newRecordData.objects.map(\r\n                                            (object) => (\r\n                                                <li key={object.objectIndex.toString()}>\r\n                                                    {object.fields.name.trim()}&nbsp;\r\n                                                    {\r\n                                                        object.fields.note.trim() !== '' &&   \r\n                                                        <OverlayTrigger\r\n                                                            placement=\"top\"\r\n                                                            overlay={\r\n                                                                <Tooltip id={object.objectIndex.toString()}>\r\n                                                                    {object.fields.note.trim()}\r\n                                                                </Tooltip>    \r\n                                                            }>\r\n                                                            <Badge variant=\"info\" className=\"note-label\">\r\n                                                                <FontAwesomeIcon icon={faComment} />\r\n                                                                &nbsp;{object.fields.note.trim()}\r\n                                                            </Badge>\r\n                                                        </OverlayTrigger>\r\n                                                    }\r\n                                                </li>      \r\n                                            )\r\n                                        )\r\n                                    }\r\n                                </ul>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </Table>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"primary\" onClick={handleAdd}>Добавить</Button>\r\n                <Button variant=\"secondary\" onClick={handleClose}>Отмена</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default InsertNewRecordModal;\r\n","import React from 'react';\r\nimport './TabNewRecord.css';\r\nimport Menu from './Menu';\r\nimport NewRecordForm from './NewRecordForm';\r\nimport InsertNewRecordModal from './InsertNewRecordModal';\r\n\r\n\r\nfunction TabNewRecord(props) {\r\n\r\n    const {\r\n        panelData,\r\n        pointsData,\r\n        newRecordData,\r\n        insertNewRecordModalData\r\n    } = props;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Menu data={panelData} />\r\n            <hr />\r\n            <NewRecordForm pointsData={pointsData} \r\n                data={newRecordData} />\r\n            <br />\r\n            <br />\r\n            <InsertNewRecordModal data={insertNewRecordModalData}\r\n                newRecordData={newRecordData}\r\n                panelData={panelData}\r\n                pointsData={pointsData} />\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default TabNewRecord;\r\n","function makeFixedFormat(val) {\r\n\r\n    const formattedStr = (val.toString().length === 1 ? '0'+val.toString() : val.toString());\r\n    \r\n    return formattedStr;\r\n}\r\n\r\nfunction formatDate(value) {\r\n    const days      = value.getDate();\r\n    const months    = value.getMonth() + 1;\r\n    const fullYear  = value.getFullYear();\r\n    \r\n    return makeFixedFormat(days) + '-' + makeFixedFormat(months) + '-' + fullYear;\r\n}\r\n\r\nexport default formatDate;","import React, { useRef, useEffect, useState, useContext } from 'react';\r\nimport './Menu.css';\r\nimport { Row, Col, Form, InputGroup, Button, FormControl } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUser, faBuilding, faCalendarAlt, faFileExcel } from '@fortawesome/free-solid-svg-icons';\r\nimport formatDate from 'App/Utils/formatDate';\r\nimport { AppDispatch } from 'App/Utils/useAppReducer';\r\nimport { MainInspectorPanelDispatch } from 'App/Utils/useMainInspectorPanelReducer';\r\nimport fetchData from 'App/Utils/fetchData';\r\nimport processException from 'App/Utils/processException';\r\n\r\n\r\nfunction Menu(props) {\r\n    const appDispath = useContext(AppDispatch);\r\n    const mainInspectorPanelDispatch = useContext(MainInspectorPanelDispatch);\r\n\r\n    const loadingTriggers = [\r\n        () => { appDispath({ type: 'setIsLoad', isLoad: true }); },\r\n        () => { appDispath({ type: 'setIsLoad', isLoad: false }); }\r\n    ];\r\n\r\n    const { data } = props;\r\n\r\n    let sevenDaysAgo = new Date();\r\n    sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);\r\n\r\n    const [period, setPeriod] = useState({\r\n        from: formatDate(sevenDaysAgo),\r\n        till: formatDate(new Date())\r\n    });\r\n\r\n    const periodFromInput = useRef(null);\r\n    const periodTillInput = useRef(null);\r\n\r\n    useEffect(() => {\r\n        const inputElements = [\r\n            periodFromInput.current,\r\n            periodTillInput.current\r\n        ];\r\n\r\n        inputElements.forEach((inputElement) => {\r\n            window.jQuery(inputElement).on('change', handleChange);\r\n        });\r\n\r\n        return () => {\r\n            inputElements.forEach((inputElement) => {\r\n                window.jQuery(inputElement).off('change', handleChange);\r\n            });\r\n        };//eslint-disable-next-line\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const inputElements = [\r\n            periodFromInput.current,\r\n            periodTillInput.current\r\n        ];\r\n\r\n        inputElements.forEach((inputElement) => {\r\n            window.jQuery(inputElement).datepicker({\r\n                format: \"dd-mm-yyyy\",\r\n                viewMode: \"months\",\r\n                minViewMode: \"days\",\r\n                language: 'ru'\r\n            });\r\n        });\r\n\r\n        return () => {\r\n            inputElements.forEach((inputElement) => {\r\n                window.jQuery(inputElement).datepicker('destroy');\r\n            });\r\n        };//eslint-disable-next-line\r\n    }, []);\r\n\r\n    const handleChange = (e) => {\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n\r\n        const periodFrom = (window.jQuery(periodFromInput.current).datepicker('getDate') || sevenDaysAgo);\r\n        const periodTill = (window.jQuery(periodTillInput.current).datepicker('getDate') || new Date());\r\n\r\n        if (periodFrom > periodTill) {\r\n            setPeriod((prevPeriod) => (\r\n                { from: value, till: value }\r\n            ));\r\n        } else {\r\n            setPeriod((prevPeriod) => (\r\n                { ...prevPeriod, [name]: value }\r\n            ));\r\n        }\r\n    };\r\n\r\n    const handleClick = async () => {\r\n        const periodData = {\r\n            startDate: period.from,\r\n            endDate: period.till\r\n        };\r\n\r\n        const textResponse = await fetchData(\r\n            'exitsReportSOAP',\r\n            periodData,\r\n            ...loadingTriggers\r\n        );\r\n\r\n        const response = {\r\n            message: textResponse,\r\n            methodName: 'TabLog.Menu.handleClick()',\r\n            representError: (errorInfo) => {\r\n                mainInspectorPanelDispatch({\r\n                    type: 'setInfoBox',\r\n                    infoBoxData: { variant: 'danger', text: errorInfo, show: true }\r\n                });\r\n            }\r\n        };\r\n\r\n        if (!processException(response)) {\r\n            window.location = window.location.href + textResponse;\r\n\r\n            mainInspectorPanelDispatch({\r\n                type: 'setInfoBox',\r\n                infoBoxData: { variant: 'info', text: 'Данные успешно выгрузились', show: true }\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Row>\r\n            <Col lg={12}>\r\n                <Row>\r\n                    <Col lg={4}>\r\n                        <InputGroup className=\"sav2-mb-1\">\r\n                            <InputGroup.Prepend>\r\n                                <InputGroup.Text>\r\n                                    <FontAwesomeIcon icon={faUser} size=\"1x\" />\r\n                                    &nbsp;&nbsp;Сотрудник&nbsp;:\r\n                                </InputGroup.Text>\r\n                            </InputGroup.Prepend>\r\n                            <FormControl disabled value={data.userFIO} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    <Col lg={8}>\r\n                        <InputGroup className=\"sav2-mb-1\">\r\n                            <InputGroup.Prepend>\r\n                                <InputGroup.Text>\r\n                                    <FontAwesomeIcon icon={faBuilding} size=\"1x\" />\r\n                                    &nbsp;&nbsp;Подразделение&nbsp;:\r\n                                </InputGroup.Text>\r\n                            </InputGroup.Prepend>\r\n                            <FormControl disabled value={data.depName} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    <Col lg={12}>\r\n                        <hr />\r\n                    </Col>\r\n                    <Col lg={12}>\r\n                        <p>Отчет по выходам :</p>\r\n                    </Col>\r\n                    <Col lg={6}>\r\n                        <InputGroup className=\"sav2-mb-1\">\r\n                            <InputGroup.Prepend>\r\n                                <InputGroup.Text>\r\n                                    <FontAwesomeIcon icon={faCalendarAlt} size=\"1x\" />\r\n                                    &nbsp;&nbsp;Период\r\n                                </InputGroup.Text>\r\n                                <InputGroup.Text>от&nbsp;:</InputGroup.Text>\r\n                            </InputGroup.Prepend>\r\n                            <Form.Control as=\"input\" name=\"from\" type=\"text\"\r\n                                ref={periodFromInput} value={period.from} onChange={handleChange} />\r\n                            <div className=\"input-group-prepend input-group-append\">\r\n                                <InputGroup.Text>до&nbsp;:</InputGroup.Text>\r\n                            </div>\r\n                            <Form.Control as=\"input\" name=\"till\" type=\"text\"\r\n                                ref={periodTillInput} value={period.till} onChange={handleChange} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    <Col lg={6}>\r\n                        <Button variant=\"success\" onClick={handleClick}>\r\n                            Выгрузить в Excel&nbsp;&nbsp;\r\n                            <FontAwesomeIcon icon={faFileExcel} size=\"1x\" />\r\n                        </Button>\r\n                    </Col>\r\n                </Row>\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n\r\nexport default Menu;\r\n","import React from 'react';\r\nimport './Paginator.css';\r\nimport { Pagination } from 'react-bootstrap';\r\n\r\nfunction Paginator(props) {\r\n    \r\n    const { \r\n        curPage, \r\n        perPage, \r\n        countRows,\r\n        onItemClick,\r\n        onPrevClick,\r\n        onNextClick,\r\n        onFirstClick,\r\n        onLastClick \r\n    } = props;\r\n\r\n    const amoutOfItems = 7;\r\n\r\n    const offset = Math.floor(7 / 2);\r\n\r\n    const numberOfPages = (Math.ceil(countRows / perPage) < 1) ? 1 : Math.ceil(countRows / perPage);\r\n    \r\n    const itemClick = (e) => {\r\n        const pageValue = e.target.attributes.pagenum.value\r\n        onItemClick(parseInt(pageValue));\r\n    };\r\n\r\n    const prevClick = () => {\r\n        const pageNumber = (curPage - 1 < 1) ? 1 : curPage - 1;\r\n        onPrevClick(pageNumber);\r\n    };\r\n\r\n    const nextClick = () => {\r\n        const pageNumber = ((curPage + 1) > numberOfPages) ? numberOfPages : curPage + 1;\r\n        onNextClick(pageNumber);\r\n    };\r\n    \r\n    const firstClick = () => {\r\n        onFirstClick(1);\r\n    };\r\n\r\n    const lastClick = () => {\r\n        onLastClick(numberOfPages);\r\n    };\r\n\r\n    let items = [];\r\n\r\n    const getStartItem = () => {\r\n        if (curPage - offset <= 1) {\r\n            return 1;\r\n        } else {\r\n            if (curPage + amoutOfItems - offset > numberOfPages) {\r\n            /**\r\n             * let \r\n             *  curPage = x,\r\n             *  offset = y,\r\n             *  numberOfPages = z\r\n             * \r\n             * previous items:                   constant previous items at the end:\r\n             * 5 6 7 (8) 9 10 11  ==> 8-3        5 6 7 (8) 9 10 11  ==> 8-3 = 8-3-(3-(11-8))\r\n             * 6 7 8 (9) 10 11    ==> 9-3   >>>  5 6 7 8 (9) 10 11  ==> 9-4 = 9-3-(3-(11-9))\r\n             * 7 8 9 (10) 11      ==> 10-3  >>>  5 6 7 8 9 (10) 11  ==> 10-5 = 10-3-(3-(11-10))\r\n             * 8 9 10 (11)        ==> 11-3       5 6 7 8 9 10 (11)  ==> 11-6 = 11-3-(3-(11-11))\r\n             * \r\n             * the first expression was:\r\n             * x - y - (y - (z - x))\r\n             * \r\n             * modified expression:\r\n             * x - y - y + (z - x)\r\n             * x - 2y + z - x\r\n             * -2y + z\r\n             * z - 2y\r\n             * \r\n             * i.e. numberOfPages - (2 * offset)\r\n             */\r\n                //return numberOfPages - (2 * offset);\r\n                const startItemValue = numberOfPages - (2 * offset);\r\n                return (startItemValue > 0 ? startItemValue : 1);\r\n            } else { \r\n                return curPage - offset;\r\n            }\r\n        }\r\n    };\r\n\r\n    const getEndItem = () => {\r\n        if (curPage - offset <= 1) {\r\n            if (numberOfPages < amoutOfItems) {\r\n                return numberOfPages + 1;\r\n            } else {\r\n                return amoutOfItems + 1;\r\n            }\r\n        } else {\r\n            if (curPage + amoutOfItems - offset > numberOfPages) {\r\n                return numberOfPages + 1;\r\n            } else {\r\n                return curPage + amoutOfItems - offset;\r\n            }\r\n        }\r\n    };\r\n\r\n    const startItem = getStartItem();\r\n    const endItem = getEndItem();\r\n\r\n    for (let i = startItem; i < endItem; i++) {\r\n        items.push(\r\n            <Pagination.Item active={i === curPage}\r\n                key={i}\r\n                onClick={itemClick}\r\n                pagenum={i}>\r\n                {i}\r\n            </Pagination.Item>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Pagination>\r\n            <Pagination.First onClick={firstClick} disabled={curPage === 1} />\r\n            <Pagination.Prev onClick={prevClick} disabled={curPage === 1} />\r\n            {items}\r\n            <Pagination.Next onClick={nextClick} disabled={curPage === numberOfPages} />\r\n            <Pagination.Last onClick={lastClick} disabled={curPage === numberOfPages} />\r\n        </Pagination>\r\n    );\r\n}\r\n\r\nexport default Paginator;\r\n","import React, { useRef, useEffect } from 'react';\r\nimport './SearchItem.css';\r\nimport { Col, InputGroup, FormControl, Button } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport Inputmask from 'inputmask';\r\n\r\nfunction SearchItem(props) {\r\n\r\n    const inputField = useRef(null);\r\n\r\n    const {\r\n        size,\r\n        label,\r\n        mask,\r\n        handleSearch,\r\n        name,\r\n        currentVal\r\n    } = props;\r\n\r\n    //Date-Picker -- start --\r\n    //EventListener settings\r\n    useEffect(() => {\r\n        if (mask && mask.type === 'datepicker') {\r\n            const inputElement = inputField.current;\r\n\r\n            window.jQuery(inputElement).on('change', handleChange);\r\n\r\n            return () => {\r\n                window.jQuery(inputElement).off('change', handleChange);\r\n            };\r\n        }//eslint-disable-next-line\r\n    }, []);\r\n    //Datepicker settings\r\n    useEffect(() => {\r\n        if (mask && mask.type === 'datepicker') {\r\n            const inputElement = inputField.current;\r\n\r\n            window.jQuery(inputElement).datepicker(mask.params);\r\n\r\n            return () => {\r\n                window.jQuery(inputElement).datepicker('destroy');\r\n            };\r\n        }//eslint-disable-next-line\r\n    }, []);\r\n    //Date-Picker -- end --\r\n\r\n    //Input-Mask -- start --\r\n    useEffect(() => {\r\n        if (mask && mask.type === 'inputmask') {\r\n            const inputElement = inputField.current;\r\n\r\n            Inputmask(mask.params).mask(inputElement);\r\n\r\n            return () => {\r\n                Inputmask.remove(inputElement);\r\n            };\r\n        }//eslint-disable-next-line\r\n    }, []);\r\n    //Input-Mask -- end --\r\n\r\n    //EventListener for default (without mask property) search-item\r\n    /* useEffect(() => {\r\n        if (!mask) {\r\n            const inputElement = inputField.current;\r\n            inputElement.addEventListener('change', handleChange);\r\n\r\n            return () => {\r\n                inputElement.removeEventListener('change', handleChange);\r\n            };\r\n        }\r\n    }, []); */\r\n\r\n    const searchLatency = 1000;\r\n    let delayTimer = null;\r\n\r\n    const handleChange = () => {\r\n        clearTimeout(delayTimer);\r\n\r\n        delayTimer = setTimeout(function() {\r\n            handleSearch({[name]: inputField.current.value.trim()});\r\n        }, searchLatency);\r\n    };\r\n\r\n    const handleClick = () => {\r\n        const inputElement = inputField.current;\r\n        if (inputElement.value !== '') {\r\n            inputElement.value = '';\r\n            //const ev = new Event('change', { bubbles: true });\r\n            //inputElement.dispatchEvent(ev);\r\n            handleSearch({ [name]: inputElement.value });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Col lg={size} className=\"sav2-mt-1\">\r\n            <InputGroup>\r\n                <InputGroup.Prepend>\r\n                    <InputGroup.Text>{label}</InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <FormControl className=\"no-placeholder\" \r\n                    ref={inputField} \r\n                    onChange={handleChange}\r\n                    defaultValue={currentVal} />\r\n                <InputGroup.Append>\r\n                    <Button variant=\"secondary\" onClick={handleClick}>\r\n                        <FontAwesomeIcon icon={faTimes} size=\"1x\" />\r\n                    </Button>\r\n                </InputGroup.Append>\r\n            </InputGroup>\r\n        </Col>\r\n    );\r\n}\r\n\r\nexport default SearchItem;\r\n","import React, { useContext } from 'react';\r\nimport './Search.css';\r\nimport { Row } from 'react-bootstrap';\r\nimport SearchItem from './SearchItem';\r\nimport { MainInspectorPanelDispatch } from 'App/Utils/useMainInspectorPanelReducer';\r\n\r\n\r\nfunction Search(props) {\r\n\r\n    const {data} = props;\r\n\r\n    const mainInspectorPanelDispatch = useContext(MainInspectorPanelDispatch);\r\n\r\n    const doSearch = (searchParams) => {\r\n        mainInspectorPanelDispatch({\r\n            type: 'setLogSearchFields',\r\n            logSearchFields: searchParams\r\n        });\r\n    };\r\n\r\n    const datepickerData = {\r\n        type: \"datepicker\",\r\n        params: {\r\n            format: \"dd-mm-yyyy\",\r\n            viewMode: \"months\",\r\n            minViewMode: \"days\",\r\n            language: 'ru'\r\n        }\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <p>Поиск записей: </p>\r\n            <Row>\r\n                <SearchItem name=\"date\"\r\n                    size={4}\r\n                    label=\"Дата выхода:\"\r\n                    handleSearch={doSearch}\r\n                    mask={datepickerData}\r\n                    currentVal={data.date} />\r\n                <SearchItem name=\"objectName\"\r\n                    size={6}\r\n                    label=\"Объект выхода:\"\r\n                    handleSearch={doSearch}\r\n                    currentVal={data.objectName} />\r\n                <SearchItem name=\"userFio\"\r\n                    size={6}\r\n                    label=\"ФИО сотрудника:\"\r\n                    handleSearch={doSearch}\r\n                    currentVal={data.userFio} />\r\n            </Row>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default Search;","import React from 'react';\r\nimport './TableInfo.css';\r\nimport { InputGroup, FormControl } from 'react-bootstrap';\r\n\r\n\r\nfunction TableInfo(props) {\r\n   \r\n    const { countRows } = props;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <p>Список записей:</p>\r\n            <InputGroup>\r\n                <InputGroup.Prepend>\r\n                    <InputGroup.Text>Всего найдено записей:</InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <FormControl disabled value={countRows} style={{maxWidth: '200px'}} />\r\n            </InputGroup>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default TableInfo;","import React, { useContext } from 'react';\r\nimport './TableRow.css';\r\nimport {  \r\n    Button, \r\n    Badge, \r\n    OverlayTrigger, \r\n    Tooltip \r\n} from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faComment, faPen } from '@fortawesome/free-solid-svg-icons';\r\nimport { faTrashAlt } from '@fortawesome/free-regular-svg-icons';\r\nimport { MainInspectorPanelDispatch } from 'App/Utils/useMainInspectorPanelReducer';\r\n\r\n\r\nfunction TableRow(props) {\r\n\r\n    const mainInspectorPanelDispatch = useContext(MainInspectorPanelDispatch);\r\n\r\n    const {\r\n       id,\r\n       day,\r\n       date,\r\n       userFio,\r\n       objects,\r\n       point,\r\n       pointDescription,\r\n       timeExit,\r\n       timeReturn,\r\n       timeDuration \r\n    } = props;\r\n\r\n    const handleUpdate = () => {\r\n        mainInspectorPanelDispatch({\r\n            type: 'setUpdateRecordModal',\r\n            updateRecordModalData: {\r\n                show: true,\r\n                exitID: id\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleDelete = () => {\r\n        mainInspectorPanelDispatch({\r\n            type: 'setDeleteRecordModal',\r\n            deleteRecordModalData: {\r\n                show: true,\r\n                exitID: id\r\n            }\r\n        });\r\n    };\r\n\r\n    return (\r\n        <tr>\r\n            <td>{day}</td>\r\n            <td>{date}</td>\r\n            <td style={{whiteSpace: 'nowrap'}}>{userFio}</td>\r\n            <td>\r\n                {\r\n                    objects.map((object, index) => (\r\n                        <div className=\"mb-2\" key={index.toString()}>\r\n                            {object[0]}&nbsp;\r\n                            {\r\n                                object[1] !== '' &&   \r\n                                <OverlayTrigger\r\n                                    placement=\"right\"\r\n                                    overlay={\r\n                                        <Tooltip id={index.toString()}>\r\n                                            {object[1]}\r\n                                        </Tooltip>    \r\n                                    }>\r\n                                    <Badge variant=\"info\" className=\"note-label\">\r\n                                        <FontAwesomeIcon icon={faComment} />\r\n                                        &nbsp;{object[1]}\r\n                                    </Badge>\r\n                                </OverlayTrigger>\r\n                            }\r\n                        </div>\r\n                    ))\r\n                }\r\n            </td>\r\n            <td>\r\n                {point + (pointDescription === '' ? '' : ' '+ pointDescription)}\r\n            </td>\r\n            <td>{timeExit}</td>\r\n            <td>{timeReturn}</td>\r\n            <td>{timeDuration}</td>\r\n            <td style={{minWidth: '120px'}}>\r\n                <Button variant=\"success\" className=\"sav2-opt-button\" onClick={handleUpdate} title=\"Изменить\">\r\n                    <FontAwesomeIcon icon={faPen} size=\"1x\" />\r\n                </Button>\r\n                <Button variant=\"danger\" className=\"sav2-opt-button\" onClick={handleDelete} title=\"Удалить\">\r\n                    <FontAwesomeIcon icon={faTrashAlt} size=\"1x\" />\r\n                </Button>\r\n            </td>\r\n        </tr>\r\n    );\r\n}\r\n\r\nexport default TableRow;","import React from 'react';\r\nimport './TableField.css';\r\nimport { Table } from 'react-bootstrap';\r\nimport TableRow from './TableRow';\r\n\r\n\r\nfunction TableField(props) {\r\n\r\n    const { rowItems } = props;\r\n\r\n    const tableRows = rowItems.map((item) => (\r\n        <TableRow key={(item[0]).toString()}\r\n            id={(item[0]).toString()}\r\n            day={item[1]}\r\n            date={item[2]}\r\n            userFio={item[3]}\r\n            objects={item[4]}\r\n            point={item[5]}\r\n            pointDescription={item[6]}\r\n            timeExit={item[7]}\r\n            timeReturn={item[8]}\r\n            timeDuration={item[9]} />\r\n    ));\r\n\r\n    return (\r\n        <Table striped>\r\n            <thead>\r\n                <tr>\r\n                    <th>День</th>\r\n                    <th>Дата</th>\r\n                    <th>Сотрудник</th>\r\n                    <th>Объекты</th>\r\n                    <th>Цель выхода</th>\r\n                    <th>С</th>\r\n                    <th>До</th>\r\n                    <th>Часы</th>\r\n                    <th>Действие</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {tableRows}\r\n            </tbody>\r\n        </Table>\r\n    );\r\n}\r\n\r\nexport default TableField;","import React, { useContext } from 'react';\r\nimport './DeleteRecordModal.css';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport { MainInspectorPanelDispatch } from 'App/Utils/useMainInspectorPanelReducer';\r\nimport { AppDispatch } from 'App/Utils/useAppReducer';\r\nimport fetchData from 'App/Utils/fetchData';\r\nimport processException from 'App/Utils/processException';\r\n\r\n\r\nfunction DeleteRecordModal(props) {\r\n\r\n    const mainInspectorPanelDispatch = useContext(MainInspectorPanelDispatch);\r\n    const appDispatch = useContext(AppDispatch);\r\n\r\n    const loadingTriggers = [\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: true }); },\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: false }); }\r\n    ];\r\n\r\n    const { data } = props;\r\n\r\n    const handleClose = () => {\r\n        mainInspectorPanelDispatch({\r\n            type: 'setDeleteRecordModal',\r\n            deleteRecordModalData: {\r\n                show: false\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n        const textResponse = await fetchData(\r\n            'delete_exit',\r\n            { id: data.exitID },\r\n            ...loadingTriggers\r\n        );\r\n\r\n        mainInspectorPanelDispatch({\r\n            type: 'setDeleteRecordModal',\r\n            deleteRecordModalData: {\r\n                show: false\r\n            }\r\n        });\r\n\r\n        const response = {\r\n            message: textResponse,\r\n            methodName: 'DeleteRecordModal.handleDelete()',\r\n            representError: (errorInfo) => {\r\n                mainInspectorPanelDispatch({\r\n                    type: 'setInfoBox',\r\n                    infoBoxData: { variant: 'danger', text: errorInfo, show: true }\r\n                });\r\n            }\r\n        }\r\n\r\n        if (!processException(response)) {\r\n            mainInspectorPanelDispatch({\r\n                type: 'setInfoBox',\r\n                infoBoxData: { variant: 'success', text: textResponse, show: true }\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Modal show={data.show} onHide={handleClose}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Удаление записи</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <p>Удалить данную запись (и все связанные с ней объекты) под id: {data.exitID}</p>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"primary\" onClick={handleDelete}>Удалить</Button>\r\n                <Button variant=\"secondary\" onClick={handleClose}>Отмена</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default DeleteRecordModal;","import React, { useContext, useState, useEffect, useRef } from 'react';\r\nimport './UpdateRecordModal.css';\r\nimport { \r\n    Modal, \r\n    Button,\r\n    Form, \r\n    InputGroup, \r\n    FormControl \r\n} from 'react-bootstrap';\r\nimport { AppDispatch } from 'App/Utils/useAppReducer';\r\nimport { MainInspectorPanelDispatch } from 'App/Utils/useMainInspectorPanelReducer';\r\nimport fetchData from 'App/Utils/fetchData';\r\nimport processException from 'App/Utils/processException';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { \r\n    faUser, \r\n    faClock, \r\n    faCalendarCheck, \r\n    faPencilAlt,\r\n    faMapMarkedAlt,\r\n    faPlus \r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport Inputmask from 'inputmask';\r\nimport ExitObject from 'App/WorkPanels/MainInspectorPanel/Components/TabNewRecord/NewRecordForm/ExitObject';\r\nimport processToArray from 'App/Utils/processToArray';\r\n\r\n\r\nfunction UpdateRecordModal(props) {\r\n\r\n    const appDispatch = useContext(AppDispatch);\r\n    const mainInspectorPanelDispatch = useContext(MainInspectorPanelDispatch);\r\n\r\n    const loadingTriggers = [\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: true }); },\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: false }) }\r\n    ];\r\n\r\n    const { \r\n        data,\r\n        pointsData \r\n    } = props;\r\n\r\n    const timeExitInput = useRef(null);\r\n    const timeReturnInput = useRef(null);\r\n\r\n    const [exitFIO, setExitFIO] = useState('');\r\n    const [exitDate, setExitDate] = useState('');\r\n    const [timeExit, setTimeExit] = useState('');\r\n    const [timeReturn, setTimeReturn] = useState('');\r\n    const [pointID, setPointID] = useState('5');\r\n    const [pointDescription, setPointDescription] = useState('');\r\n    const [objects, setObjects] = useState([]);\r\n\r\n    //Input-Mask -- start --\r\n    useEffect(() => {\r\n        if (data.show) {\r\n            //autocomplete + dispatch event\r\n            const dispatchChangeEvent = (element) => {\r\n                let elementVal = element.value.replace(/_/g, '0');\r\n                let hoursNminutes = elementVal.split(':');\r\n                if (parseInt(hoursNminutes[0])>18) {\r\n                    hoursNminutes[0]='18';\r\n                }\r\n                if (parseInt(hoursNminutes[0])<9) {\r\n                    hoursNminutes[0]='09';\r\n                }\r\n                if (parseInt(hoursNminutes[1])>59) {\r\n                    hoursNminutes[1]='59';\r\n                }\r\n                element.value = hoursNminutes[0]+':'+hoursNminutes[1];\r\n                const ev = new Event('change', { bubbles: true });\r\n                element.dispatchEvent(ev);\r\n            };\r\n\r\n            const timeExitElement = timeExitInput.current;\r\n            const timeReturnElement = timeReturnInput.current;\r\n\r\n            //time_exit\r\n            Inputmask({\r\n                mask: \"99:99\", \r\n                greedy: false,\r\n                oncomplete: () => {\r\n                    dispatchChangeEvent(timeExitElement);\r\n                },\r\n                onincomplete: () => {\r\n                    dispatchChangeEvent(timeExitElement);\r\n                }\r\n            }).mask(timeExitElement);\r\n\r\n            //time_return\r\n            Inputmask({\r\n                mask: \"99:99\", \r\n                greedy: false,\r\n                oncomplete: () => {\r\n                    dispatchChangeEvent(timeReturnElement);\r\n                },\r\n                onincomplete: () => {\r\n                    dispatchChangeEvent(timeReturnElement);\r\n                }\r\n            }).mask(timeReturnElement);\r\n        \r\n            return () => {\r\n                Inputmask.remove(timeExitElement);\r\n                Inputmask.remove(timeReturnElement);\r\n            };\r\n        }\r\n    }, [data.show]);\r\n\r\n    const selectExitByID = async () => {\r\n        const textResponse = await fetchData(\r\n            'select_exit_by_id',\r\n            { id: data.exitID },\r\n            ...loadingTriggers\r\n        );\r\n\r\n        const response = {\r\n            message: textResponse,\r\n            methodName: 'TabLog.UpdateRecordModal.selectExitByID()',\r\n            representError: (errorInfo) => {\r\n                mainInspectorPanelDispatch({\r\n                    type: 'setInfoBox',\r\n                    infoBoxData: { variant: 'danger', text: errorInfo, show: true }\r\n                });\r\n            }\r\n        };\r\n\r\n        if (!processException(response)) {\r\n            const jsonResponse = JSON.parse(textResponse);            \r\n            const fields = jsonResponse.fields;\r\n\r\n            setExitFIO((prevVal) => (fields.fioExitUpd));\r\n            setExitDate((prevVal) => (fields.dateExitUpd));\r\n            setTimeExit((prevVal) => (fields.timeexitExitUpd));\r\n            setTimeReturn((prevVal) => (fields.timereturnExitUpd));\r\n            setPointID((prevVal) => (fields.pointExitUpd.toString()));\r\n            setPointDescription((prevVal) => (fields.pointDescriptionExitUpd));\r\n            setObjects((prevVal) => (\r\n                fields.objectsExitUpd.map((item, index) => (\r\n                    {\r\n                        objectIndex: index,\r\n                        fields: {\r\n                            name        : item[0],\r\n                            note        : item[1],\r\n                            postalindex : item[2],\r\n                            region      : item[3],\r\n                            town        : item[4],\r\n                            street      : item[5],\r\n                            building    : item[6],\r\n                            apartment   : item[7],\r\n                            geolat      : item[8],\r\n                            geolon      : item[9],\r\n                            oldformat   : item[10].toString()\r\n                        }\r\n                    }\r\n                ))\r\n            ));\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (data.show) {\r\n            selectExitByID();\r\n            return () => {\r\n                setExitFIO((prevVal) => (''));\r\n                setExitDate((prevVal) => (''));\r\n                setTimeExit((prevVal) => (''));\r\n                setTimeReturn((prevVal) => (''));\r\n                setPointID((prevVal) => ('5'));\r\n                setPointDescription((prevVal) => (''));\r\n                setObjects((prevVal) => ([]));\r\n            };\r\n        }//eslint-disable-next-line\r\n    }, [data.show]);\r\n\r\n    const getOptions = () => {\r\n        let options = [];\r\n\r\n        if (pointsData.length !== 0) {\r\n            pointsData.forEach(item => {\r\n                options.push(<option key={item.id.toString()} value={item.id.toString()}>{item.name}</option>);\r\n            });\r\n        }\r\n\r\n        options.push(<option key=\"5\" value=\"5\">Другое:</option>);\r\n\r\n        return options;\r\n    };\r\n\r\n    const handleChange = async (e) => {\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n\r\n        if (name === 'time_exit') {\r\n            setTimeExit((prevValue) => (value));\r\n        } else if (name === 'time_return') {\r\n            setTimeReturn((prevValue) => (value));\r\n        }\r\n    };\r\n\r\n    const handleAddObject = () => {\r\n        let newIndex = 1;\r\n\r\n        if (objects.length !== 0) {\r\n            const indexes = objects.map((object) => (object.objectIndex));\r\n            newIndex = Math.max(...indexes) + 1;         \r\n        }\r\n\r\n        const newObject = { \r\n            objectIndex: newIndex,\r\n            fields: {\r\n                name        : '',\r\n                note        : '',\r\n                postalindex : '',\r\n                region      : '',\r\n                town        : '',\r\n                street      : '',\r\n                building    : '',\r\n                apartment   : '',\r\n                geolat      : '',\r\n                geolon      : '',\r\n                oldformat   : '1'\r\n            }\r\n        };\r\n\r\n        setObjects((curObjects) => (\r\n            [...curObjects, newObject]\r\n        ));\r\n    };\r\n\r\n    const handleClose = () => {\r\n        mainInspectorPanelDispatch({\r\n            type: 'setUpdateRecordModal',\r\n            updateRecordModalData: {\r\n                show: false\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleObjectUpdate = (objectVal) => {\r\n        let objectsAfterUpd = [];\r\n\r\n        objects.forEach((object) => {\r\n            if (object.objectIndex !== objectVal.objectIndex) {\r\n                objectsAfterUpd.push(object);\r\n            } else {\r\n                objectsAfterUpd.push({\r\n                    objectIndex: objectVal.objectIndex,\r\n                    fields: { ...object.fields, ...objectVal.fields }\r\n                });\r\n            }\r\n        });\r\n        \r\n        setObjects((curObjects) => (objectsAfterUpd));\r\n    };\r\n\r\n    const handleObjectDelete = (objectIndex) => {\r\n        const objectsAfterDel = objects.filter((object) => (\r\n            object.objectIndex !== objectIndex\r\n        ));\r\n\r\n        setObjects((curObjects) => (objectsAfterDel));\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        const arrayOfObjects = objects.map((object) => (processToArray(object.fields)));\r\n        const jsonStringObjects = JSON.stringify({ objects: arrayOfObjects });\r\n         \r\n        const objectParams = {\r\n            id: data.exitID,\r\n            objects: jsonStringObjects,\r\n            timeexit: timeExit,\r\n            timereturn: timeReturn\r\n        };\r\n\r\n        const textResponse = await fetchData(\r\n            'update_exit',\r\n            objectParams,\r\n            ...loadingTriggers\r\n        );\r\n        \r\n        mainInspectorPanelDispatch({\r\n            type: 'setUpdateRecordModal',\r\n            updateRecordModalData: {\r\n                show: false\r\n            }\r\n        });\r\n\r\n        const response = {\r\n            message: textResponse,\r\n            methodName: 'TabLog.UpdateRecordModal.handleSave()',\r\n            representError: (errorInfo) => {\r\n                mainInspectorPanelDispatch({\r\n                    type: 'setInfoBox',\r\n                    infoBoxData: { variant: 'danger', text: errorInfo, show: true }\r\n                });\r\n            }\r\n        };\r\n\r\n        if (!processException(response)) {\r\n            mainInspectorPanelDispatch({\r\n                type: 'setInfoBox',\r\n                infoBoxData: { variant: 'info', text: textResponse, show: true }\r\n            });\r\n        }\r\n    };\r\n\r\n    return(\r\n        <Modal show={data.show} onHide={handleClose}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Изменение данных записи по выходу</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Form>\r\n                    <Form.Group>\r\n                        <InputGroup className=\"sav2-mb-1\">\r\n                            <InputGroup.Prepend>\r\n                                <InputGroup.Text>\r\n                                    <FontAwesomeIcon icon={faUser} size=\"1x\" />\r\n                                    &nbsp;&nbsp;Сотрудник&nbsp;:\r\n                                </InputGroup.Text>\r\n                            </InputGroup.Prepend>\r\n                            <FormControl disabled value={exitFIO} />\r\n                        </InputGroup>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group>\r\n                        <Form.Label>\r\n                            <FontAwesomeIcon icon={faCalendarCheck} size=\"1x\" />\r\n                            &nbsp;Дата выхода :\r\n                        </Form.Label>\r\n                        <Form.Control disabled value={exitDate} />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group>\r\n                        <Form.Label>\r\n                            <FontAwesomeIcon icon={faClock} size=\"1x\" />\r\n                            &nbsp;Время :\r\n                        </Form.Label>\r\n                        <InputGroup>\r\n                            <InputGroup.Prepend>\r\n                                <InputGroup.Text>с&nbsp;:</InputGroup.Text>\r\n                            </InputGroup.Prepend>\r\n                            <Form.Control as=\"input\" type=\"text\" name=\"time_exit\"\r\n                                value={timeExit} onChange={handleChange} ref={timeExitInput}\r\n                                placeholder=\"00:00\" />\r\n                            <div className=\"input-group-prepend input-group-append\">\r\n                                <InputGroup.Text>до&nbsp;:</InputGroup.Text>\r\n                            </div>\r\n                            <Form.Control as=\"input\" type=\"text\" name=\"time_return\"\r\n                                value={timeReturn} onChange={handleChange} ref={timeReturnInput}\r\n                                placeholder=\"00:00\" />\r\n                        </InputGroup>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group>\r\n                        <Form.Label>\r\n                            <FontAwesomeIcon icon={faPencilAlt} size=\"1x\" />\r\n                            &nbsp;Цель выхода :\r\n                        </Form.Label>\r\n                        <Form.Control as=\"select\" name=\"pointid\"\r\n                            value={pointID} disabled>\r\n                            {getOptions()}\r\n                        </Form.Control>\r\n                        <br />\r\n                        {\r\n                            pointID === '5' &&\r\n                            <Form.Control as=\"input\" type=\"text\" name=\"point_description\"\r\n                                value={pointDescription} disabled />\r\n                        }\r\n                    </Form.Group>\r\n\r\n                    <Form.Group>\r\n                        <InputGroup>\r\n                            <InputGroup.Prepend>\r\n                                    <InputGroup.Text>\r\n                                        <FontAwesomeIcon icon={faMapMarkedAlt} size=\"1x\" />\r\n                                    </InputGroup.Text>\r\n                            </InputGroup.Prepend>\r\n                            <Form.Control as=\"input\" type=\"text\" disabled value=\"Объекты :\" />\r\n                            <InputGroup.Append>\r\n                                <Button variant=\"outline-secondary\" onClick={handleAddObject}>\r\n                                    <FontAwesomeIcon icon={faPlus} />\r\n                                </Button>\r\n                            </InputGroup.Append>\r\n                        </InputGroup>\r\n                    </Form.Group>\r\n\r\n                    {\r\n                        objects.map((object) => ( \r\n                            <ExitObject key={object.objectIndex.toString()} \r\n                                objectIndex={object.objectIndex} \r\n                                data={objects}\r\n                                onObjectUpdate={handleObjectUpdate}\r\n                                onObjectDelete={handleObjectDelete} /> \r\n                        ))\r\n                    }\r\n                </Form>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"primary\" onClick={handleSave}>Сохранить</Button>\r\n                <Button variant=\"secondary\" onClick={handleClose}>Отмена</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default UpdateRecordModal;\r\n","import React, { useContext } from 'react';\r\nimport './TabLog.css';\r\nimport Menu from './Menu';\r\nimport Paginator from './Paginator';\r\nimport Search from './Search';\r\nimport TableInfo from './TableInfo';\r\nimport TableField from './TableField';\r\nimport DeleteRecordModal from './DeleteRecordModal';\r\nimport UpdateRecordModal from './UpdateRecordModal';\r\nimport { MainInspectorPanelDispatch } from 'App/Utils/useMainInspectorPanelReducer';\r\n\r\n\r\nfunction TabLog(props) {\r\n\r\n    const mainInspectorPanelDispatch = useContext(MainInspectorPanelDispatch);\r\n\r\n    const {\r\n        panelData,\r\n        pointsData,\r\n        paginatorData,\r\n        logData,\r\n        logSearchFieldsData,\r\n        deleteRecordModalData,\r\n        updateRecordModalData\r\n    } = props;\r\n\r\n    const handleItemClick = (pageNumber) => {\r\n        mainInspectorPanelDispatch({\r\n            type: 'setPaginators',\r\n            paginators: { tabLogPage: pageNumber }\r\n        });\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Menu data={panelData} />\r\n            <hr />\r\n            <Search data={logSearchFieldsData} />\r\n            <hr />\r\n            <TableInfo countRows={logData.countrows} />\r\n            <hr />\r\n            <Paginator curPage={paginatorData}\r\n                perPage={logData.perpage}\r\n                countRows={logData.countrows}\r\n                onItemClick={handleItemClick}\r\n                onPrevClick={handleItemClick}\r\n                onNextClick={handleItemClick}\r\n                onFirstClick={handleItemClick}\r\n                onLastClick={handleItemClick} />\r\n            <TableField rowItems={logData.rowitems} />\r\n            <hr />\r\n            <Paginator curPage={paginatorData}\r\n                perPage={logData.perpage}\r\n                countRows={logData.countrows}\r\n                onItemClick={handleItemClick}\r\n                onPrevClick={handleItemClick}\r\n                onNextClick={handleItemClick}\r\n                onFirstClick={handleItemClick}\r\n                onLastClick={handleItemClick} />\r\n            <br />\r\n            <br />\r\n            <DeleteRecordModal data={deleteRecordModalData} />\r\n            <UpdateRecordModal data={updateRecordModalData} \r\n                pointsData={pointsData}/>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default TabLog;\r\n","import React from 'react';\r\nimport './Menu.css';\r\nimport { Row, Col, InputGroup, FormControl } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUser, faBuilding } from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\nfunction Menu(props) {\r\n\r\n    const { data } = props;\r\n\r\n    return(\r\n        <Row>\r\n            <Col lg={12}>\r\n                <Row>\r\n                    <Col lg={4}>\r\n                        <InputGroup className=\"sav2-mb-1\">\r\n                            <InputGroup.Prepend>\r\n                                <InputGroup.Text>\r\n                                    <FontAwesomeIcon icon={faUser} size=\"1x\" />\r\n                                    &nbsp;&nbsp;Сотрудник&nbsp;:\r\n                                </InputGroup.Text>\r\n                            </InputGroup.Prepend>\r\n                            <FormControl disabled value={data.userFIO} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    <Col lg={8}>\r\n                        <InputGroup className=\"sav2-mb-1\">\r\n                            <InputGroup.Prepend>\r\n                                <InputGroup.Text>\r\n                                    <FontAwesomeIcon icon={faBuilding} size=\"1x\" />\r\n                                    &nbsp;&nbsp;Подразделение&nbsp;:\r\n                                </InputGroup.Text>\r\n                            </InputGroup.Prepend>\r\n                            <FormControl disabled value={data.depName} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                </Row>\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n\r\nexport default Menu;","import React, { useContext } from 'react';\r\nimport './Search.css';\r\nimport { Row } from 'react-bootstrap';\r\nimport SearchItem from 'App/WorkPanels/MainInspectorPanel/Components/TabLog/Search/SearchItem';\r\nimport { MainInspectorPanelDispatch } from 'App/Utils/useMainInspectorPanelReducer';\r\n\r\n\r\nfunction Search(props) {\r\n\r\n    const mainInspectorPanelDispatch = useContext(MainInspectorPanelDispatch);\r\n\r\n    const { data } = props;\r\n\r\n    const doSearch = (searchParams) => {\r\n        mainInspectorPanelDispatch({\r\n            type: 'setUsersSearchFields',\r\n            usersSearchFields: searchParams\r\n        });\r\n    };\r\n\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <p>Поиск пользователей: </p>\r\n            <Row>\r\n                <SearchItem name=\"userFio\"\r\n                    size={6}\r\n                    label=\"ФИО пользователя:\"\r\n                    handleSearch={doSearch}\r\n                    currentVal={data.userFio} />\r\n            </Row>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default Search;\r\n","import React from 'react';\r\nimport './TableInfo.css';\r\nimport { InputGroup, FormControl } from 'react-bootstrap';\r\n\r\nfunction TableInfo(props) {\r\n\r\n    const { countRows } = props;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <p>Список записей:</p>\r\n            <InputGroup>\r\n                <InputGroup.Prepend>\r\n                    <InputGroup.Text>Всего найдено записей:</InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <FormControl disabled value={countRows} style={{maxWidth: '200px'}} />\r\n            </InputGroup>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default TableInfo;\r\n","import React, { useContext } from 'react';\r\nimport './TableRow.css';\r\nimport { OverlayTrigger, Tooltip, Button } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faIdCard, faLock, faLockOpen } from '@fortawesome/free-solid-svg-icons';\r\nimport { MainInspectorPanelDispatch } from 'App/Utils/useMainInspectorPanelReducer';\r\n\r\n\r\nfunction TableRow(props) {\r\n\r\n    const mainInspectorPanelDispatch = useContext(MainInspectorPanelDispatch);\r\n\r\n    const {\r\n        userID,\r\n        userLocked,\r\n        userFio\r\n    } = props; \r\n\r\n    const handleUpdate = async () => {\r\n        mainInspectorPanelDispatch({\r\n            type: 'setUpdateUserModal',\r\n            updateUserModalData: {\r\n                show: true,\r\n                userID: userID\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleLockUnlock = () => {\r\n        mainInspectorPanelDispatch({\r\n            type: 'setLockUserModal',\r\n            lockUserModalData: { \r\n                show: true,\r\n                userID: userID,\r\n                userFio: userFio,\r\n                userLocked: userLocked\r\n            }\r\n        });\r\n    };\r\n\r\n    const overlayText = (userLocked === 0 ? \r\n        'Разблокирован. Нажмите чтобы заблокировать' : \r\n        'Заблокирован. Нажмите чтобы разблокировать'\r\n    );\r\n\r\n    return (\r\n        <tr>\r\n            <td>{userFio}</td>\r\n            <td style={{textAlign: \"right\"}}>\r\n                <Button variant=\"success\" \r\n                    className=\"sav2-opt-button\" \r\n                    title=\"Изменить данные учетной записи\" \r\n                    onClick={handleUpdate}>\r\n                        <FontAwesomeIcon icon={faIdCard} size=\"1x\" />\r\n                </Button>\r\n                <OverlayTrigger\r\n                    placement=\"top\"\r\n                    overlay={<Tooltip id={userID}>{overlayText}</Tooltip>}>\r\n                        <Button variant={(userLocked === 0 ? \"info\" : \"warning\")} \r\n                            className=\"sav2-opt-button\"  \r\n                            onClick={handleLockUnlock}>\r\n                                <FontAwesomeIcon icon={(userLocked === 0 ? faLockOpen : faLock)} size=\"1x\" />\r\n                        </Button>\r\n                </OverlayTrigger>\r\n            </td>\r\n        </tr>\r\n    );\r\n}\r\n\r\nexport default TableRow;\r\n","import React from 'react';\r\nimport './TableField.css';\r\nimport { Table } from 'react-bootstrap';\r\nimport TableRow from './TableRow';\r\n\r\n\r\nfunction TableField(props) {\r\n\r\n    const { rowItems } = props;\r\n\r\n    const tableRows = rowItems.map((item) => (\r\n        <TableRow key={(item[0]).toString()}\r\n            userID={(item[0]).toString()}\r\n            userLocked={item[1]}\r\n            userFio={item[2]} />\r\n    ));\r\n\r\n    return (\r\n        <Table striped>\r\n            <thead>\r\n                <tr>\r\n                    <th>ФИО сотрудника</th>\r\n                    <th style={{textAlign: \"right\"}}>Действие</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {tableRows}\r\n            </tbody>\r\n        </Table>\r\n    );\r\n}\r\n\r\nexport default TableField;\r\n","import React, { useContext } from 'react';\r\nimport './LockUserModal.css';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport fetchData from 'App/Utils/fetchData';\r\nimport processException from 'App/Utils/processException';\r\nimport { AppDispatch } from 'App/Utils/useAppReducer';\r\nimport { MainInspectorPanelDispatch } from 'App/Utils/useMainInspectorPanelReducer';\r\n\r\n\r\nfunction LockUserModal(props) {\r\n\r\n    const appDispatch = useContext(AppDispatch);\r\n    const mainInspectorPanelDispatch = useContext(MainInspectorPanelDispatch);\r\n\r\n    const { data } = props;\r\n\r\n    const loadingTriggers = [\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: true }); },\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: false }); }\r\n    ];\r\n\r\n    const handleClose = () => {\r\n        mainInspectorPanelDispatch({\r\n            type: 'setLockUserModal',\r\n            lockUserModalData: { show: false }\r\n        });\r\n    };\r\n\r\n    const handleLockUnlock = async () => {\r\n        const apiMethod = (data.userLocked === 0 ? 'lock_user' : 'unlock_user');\r\n\r\n        const textResponse = await fetchData(\r\n            apiMethod,\r\n            { id: data.userID },\r\n            ...loadingTriggers\r\n        );\r\n\r\n        mainInspectorPanelDispatch({\r\n            type: 'setLockUserModal',\r\n            lockUserModalData: { show: false }\r\n        });\r\n\r\n        const response = {\r\n            message: textResponse,\r\n            methodName: 'LockUserModal.handleLock()',\r\n            representError: (errorInfo) => {\r\n                mainInspectorPanelDispatch({\r\n                    type: 'setInfoBox',\r\n                    infoBoxData: { variant: 'danger', text: errorInfo, show: true }\r\n                });\r\n            }\r\n        };\r\n\r\n        if (!processException(response)) {\r\n            mainInspectorPanelDispatch({\r\n                type: 'setInfoBox',\r\n                infoBoxData: { variant: 'info', text: textResponse, show: true }\r\n            });\r\n        }\r\n    };\r\n\r\n    const titleVal = (data.userLocked === 0 ?\r\n        'Блокировка пользователя' :\r\n        'Разблокировка пользователя'    \r\n    );\r\n\r\n    const textVal = (data.userLocked === 0 ?\r\n        'Блокировать пользователя: ' + data.userFio :\r\n        'Разблокировать пользователя: ' + data.userFio\r\n    );\r\n\r\n    return (\r\n        <Modal show={data.show} onHide={handleClose}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>{titleVal}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <p>{textVal}</p>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"primary\" onClick={handleLockUnlock}>\r\n                    {(data.userLocked === 0 ? \"Заблокировать\" : \"Разблокировать\")}\r\n                </Button>\r\n                <Button variant=\"secondary\" onClick={handleClose}>Отмена</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default LockUserModal;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport './UpdateUserModal.css';\r\nimport { \r\n    Modal, \r\n    Button,\r\n    Form, \r\n    InputGroup, \r\n    FormControl \r\n} from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {\r\n    faBuilding, \r\n    faUser\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport fetchData from 'App/Utils/fetchData';\r\nimport processException from 'App/Utils/processException';\r\nimport { AppDispatch } from 'App/Utils/useAppReducer';\r\nimport { MainInspectorPanelDispatch } from 'App/Utils/useMainInspectorPanelReducer';\r\n\r\n\r\nfunction UpdateUserModal(props) {\r\n\r\n    const appDispatch = useContext(AppDispatch);\r\n    const mainInspectorPanelDispatch = useContext(MainInspectorPanelDispatch);\r\n\r\n    const loadingTriggers = [\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: true }); },\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: false }); }\r\n    ];\r\n\r\n    const { data } = props;\r\n\r\n    const [userCredentials, setUserCredentials] = useState({\r\n        depName: '',\r\n        userFio: '',\r\n        userPassword: '' \r\n    });\r\n\r\n    const handleChange = (e) => {\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n\r\n        setUserCredentials((prevVal) => (\r\n            {...prevVal, [name]: value}\r\n        ));\r\n    };\r\n\r\n    const selectUserByID = async () => {\r\n        const textResponse = await fetchData(\r\n            'select_user_by_id',\r\n            { id: data.userID },\r\n            ...loadingTriggers\r\n        );\r\n\r\n        const response = {\r\n            message: textResponse,\r\n            methodName: 'TabUsers.UpdateUserModal.selectUserByID()',\r\n            representError: (errorInfo) => {\r\n                mainInspectorPanelDispatch({\r\n                    type: 'setInfoBox',\r\n                    infoBoxData: { variant: 'danger', text: errorInfo, show: true }\r\n                });\r\n            }\r\n        };\r\n\r\n        if (!processException(response)) {\r\n            const jsonResponse = JSON.parse(textResponse);            \r\n            const fields = jsonResponse.fields;\r\n\r\n            setUserCredentials((prevVal) => ({\r\n                ...prevVal,\r\n                depName: fields.departmentnameUserUpd,\r\n                userFio: fields.fioUserUpd\r\n            }));\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (data.show) {\r\n            selectUserByID();\r\n            return () => {\r\n                setUserCredentials((prevVal) => ({\r\n                    depName: '',\r\n                    userFio: '',\r\n                    userPassword: ''\r\n                }));\r\n            };\r\n        }//eslint-disable-next-line\r\n    }, [data.show]);\r\n\r\n    const handleClose = () => {\r\n        mainInspectorPanelDispatch({\r\n            type: 'setUpdateUserModal',\r\n            updateUserModalData: {\r\n                show: false\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleSave = async () => {        \r\n        const userCredentialsParams = {\r\n            id: data.userID,\r\n            fio: userCredentials.userFio.trim(),\r\n            pass: userCredentials.userPassword,\r\n            firstlogin: '1'\r\n        };\r\n        \r\n        const textResponse = await fetchData(\r\n            'update_user',\r\n            userCredentialsParams,\r\n            ...loadingTriggers\r\n        );\r\n        \r\n        mainInspectorPanelDispatch({\r\n            type: 'setUpdateUserModal',\r\n            updateUserModalData: {\r\n                show: false\r\n            }\r\n        });\r\n\r\n        const response = {\r\n            message: textResponse,\r\n            methodName: 'TabUsers.UpdateUserModal.handleSave()',\r\n            representError: (errorInfo) => {\r\n                mainInspectorPanelDispatch({\r\n                    type: 'setInfoBox',\r\n                    infoBoxData: { variant: 'danger', text: errorInfo, show: true }\r\n                });\r\n            }\r\n        };\r\n\r\n        if (!processException(response)) {\r\n            mainInspectorPanelDispatch({\r\n                type: 'setInfoBox',\r\n                infoBoxData: { variant: 'info', text: textResponse, show: true }\r\n            });\r\n        }\r\n    };\r\n\r\n\r\n    return(\r\n        <Modal show={data.show} onHide={handleClose}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Изменение данных пользователя</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Form>\r\n                    <Form.Group>\r\n                        <InputGroup className=\"sav2-mb-1\">\r\n                            <InputGroup.Prepend>\r\n                                <InputGroup.Text>\r\n                                    <FontAwesomeIcon icon={faBuilding} size=\"1x\" />\r\n                                    &nbsp;&nbsp;Подразделение&nbsp;:\r\n                                </InputGroup.Text>\r\n                            </InputGroup.Prepend>\r\n                            <FormControl disabled value={userCredentials.depName} />\r\n                        </InputGroup>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group>\r\n                        <InputGroup className=\"sav2-mb-1\">\r\n                            <InputGroup.Prepend>\r\n                                <InputGroup.Text>\r\n                                    <FontAwesomeIcon icon={faUser} size=\"1x\" />\r\n                                    &nbsp;&nbsp;Сотрудник&nbsp;:\r\n                                </InputGroup.Text>\r\n                            </InputGroup.Prepend>\r\n                            <FormControl name=\"userFio\"\r\n                                onChange={handleChange} \r\n                                value={userCredentials.userFio} />\r\n                        </InputGroup>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group>\r\n                        <InputGroup className=\"sav2-mb-1\">\r\n                            <InputGroup.Prepend>\r\n                                <InputGroup.Text>\r\n                                    Пароль&nbsp;:\r\n                                </InputGroup.Text>\r\n                            </InputGroup.Prepend>\r\n                            <FormControl name=\"userPassword\" type=\"password\"\r\n                                onChange={handleChange} \r\n                                value={userCredentials.userPassword} />\r\n                        </InputGroup>\r\n                    </Form.Group>\r\n                </Form>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"primary\" onClick={handleSave}>Сохранить</Button>\r\n                <Button variant=\"secondary\" onClick={handleClose}>Отмена</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default UpdateUserModal;\r\n","import React, { useContext } from 'react';\r\nimport './TabUsers.css';\r\nimport Menu from './Menu';\r\nimport Search from './Search';\r\nimport TableInfo from './TableInfo';\r\nimport Paginator from 'App/WorkPanels/MainInspectorPanel/Components/TabLog/Paginator';\r\nimport TableField from './TableField';\r\nimport LockUserModal from './LockUserModal';\r\nimport UpdateUserModal from './UpdateUserModal';\r\nimport { MainInspectorPanelDispatch } from 'App/Utils/useMainInspectorPanelReducer';\r\n\r\n\r\nfunction TabUsers(props) {\r\n\r\n    const mainInspectorPanelDispatch = useContext(MainInspectorPanelDispatch);\r\n\r\n    const {\r\n        panelData,\r\n        usersData,\r\n        paginatorData,\r\n        usersSearchFieldsData,\r\n        lockUserModalData,\r\n        updateUserModalData\r\n    } = props;\r\n\r\n    const handleItemClick = (pageNumber) => {\r\n        mainInspectorPanelDispatch({\r\n            type: 'setPaginators',\r\n            paginators: { tabUsersPage: pageNumber }\r\n        });\r\n    };\r\n\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Menu data={panelData} />\r\n            <hr />\r\n            <Search data={usersSearchFieldsData} />\r\n            <hr />\r\n            <TableInfo countRows={usersData.countrows} />\r\n            <hr />\r\n            <Paginator curPage={paginatorData}\r\n                perPage={usersData.perpage}\r\n                countRows={usersData.countrows}\r\n                onItemClick={handleItemClick}\r\n                onPrevClick={handleItemClick}\r\n                onNextClick={handleItemClick}\r\n                onFirstClick={handleItemClick}\r\n                onLastClick={handleItemClick} />\r\n            <TableField rowItems={usersData.rowitems} />\r\n            <hr />\r\n            <Paginator curPage={paginatorData}\r\n                perPage={usersData.perpage}\r\n                countRows={usersData.countrows}\r\n                onItemClick={handleItemClick}\r\n                onPrevClick={handleItemClick}\r\n                onNextClick={handleItemClick}\r\n                onFirstClick={handleItemClick}\r\n                onLastClick={handleItemClick} />\r\n            <br />\r\n            <br />\r\n            <LockUserModal data={lockUserModalData} />\r\n            <UpdateUserModal data={updateUserModalData} />\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default TabUsers;\r\n","import React, { useContext, useEffect } from 'react';\r\nimport './MainInspectorPanel.css';\r\nimport useMainInspectorPanelReducer, { MainInspectorPanelDispatch } from 'App/Utils/useMainInspectorPanelReducer';\r\nimport { AppDispatch } from 'App/Utils/useAppReducer';\r\nimport MainMenu from './Components/MainMenu';\r\nimport InfoBox from './Components/InfoBox';\r\nimport TabNewRecord from './Components/TabNewRecord';\r\nimport TabLog from './Components/TabLog';\r\nimport TabUsers from './Components/TabUsers';\r\nimport fetchData from 'App/Utils/fetchData';\r\nimport processException from 'App/Utils/processException'; \r\n\r\n\r\nfunction MainInspectorPanel(props) {\r\n\r\n    const appDispatch = useContext(AppDispatch);\r\n\r\n    const loadingTriggers = [\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: true }); },\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: false }); }\r\n    ];\r\n\r\n    const { panelData } = props;\r\n\r\n    //Reducer -- start:\r\n    const initialState = {\r\n        infoBox: {\r\n            variant: 'info',\r\n            text: '',\r\n            show: false\r\n        },\r\n        panelTabs: {\r\n            showNewRecordTab : true,\r\n            showLogTab: false,\r\n            showUsersTab: false\r\n        },\r\n        paginators: {\r\n            tabLogPage: 1,\r\n            tabUsersPage: 1\r\n        },\r\n        //TabNewCard\r\n        pointsData: [],\r\n        newRecordData: {\r\n            userid: panelData.userID,\r\n            pointid: '1',\r\n            point_description: '',\r\n            time_exit: '',\r\n            time_return: '',\r\n            objects: []\r\n        },\r\n        insertNewRecordModal: {\r\n            show: false\r\n        },\r\n        //TabLog\r\n        logSearchFields: {\r\n            date: '',\r\n            userFio: '',\r\n            userID: '',\r\n            objectName: ''\r\n        },\r\n        logData: {\r\n            countrows: 0,\r\n            page: 0,\r\n            perpage: 25,\r\n            rowitems: []\r\n        },\r\n        deleteRecordModal: {\r\n            show: false,\r\n            exitID: '0'\r\n        },\r\n        updateRecordModal: {\r\n            show: false,\r\n            exitID: '0'\r\n        },\r\n        //TabUsers\r\n        usersSearchFields: {\r\n            userFio: ''\r\n        },\r\n        usersData: {\r\n            countrows: 0,\r\n            page: 0,\r\n            perpage: 25,\r\n            rowitems: []\r\n        },\r\n        lockUserModal: {\r\n            show: false,\r\n            userID: '',\r\n            userFio: '',\r\n            userLocked: false\r\n        },\r\n        updateUserModal: {\r\n            show: false,\r\n            userID: ''\r\n        }\r\n    };\r\n\r\n    const [state, dispatch] = useMainInspectorPanelReducer(initialState);\r\n    //Reducer -- end;\r\n\r\n    const {\r\n        infoBox,\r\n        panelTabs,\r\n        paginators,\r\n\r\n        pointsData,\r\n        newRecordData,\r\n        insertNewRecordModal,\r\n\r\n        logSearchFields,\r\n        logData,\r\n        deleteRecordModal,\r\n        updateRecordModal,\r\n\r\n        usersSearchFields,\r\n        usersData,\r\n        lockUserModal,\r\n        updateUserModal\r\n    } = state;\r\n\r\n    //Points\r\n    useEffect(() => {\r\n        if (panelTabs.showNewRecordTab) {\r\n            selectPoints();\r\n        }//eslint-disable-next-line\r\n    }, [panelTabs.showNewRecordTab]);\r\n\r\n    //Log\r\n    useEffect(() => {\r\n        if (panelTabs.showLogTab &&\r\n            !deleteRecordModal.show &&\r\n            !updateRecordModal.show) {\r\n            selectExits();\r\n        }//eslint-disable-next-line\r\n    }, [\r\n        panelTabs.showLogTab,\r\n        paginators.tabLogPage,\r\n        logSearchFields,\r\n        deleteRecordModal,\r\n        updateRecordModal\r\n    ]);\r\n\r\n    //Users\r\n    useEffect(() => {\r\n        if (panelTabs.showUsersTab &&\r\n            !lockUserModal.show &&\r\n            !updateUserModal.show) {\r\n            selectUsers();\r\n        }//eslint-disable-next-line\r\n    }, [\r\n        panelTabs.showUsersTab,\r\n        paginators.tabUsersPage,\r\n        usersSearchFields,\r\n        lockUserModal,\r\n        updateUserModal\r\n    ]);\r\n\r\n    const getActiveTab = () => {\r\n        let activeTab = 'default';\r\n\r\n        for (let key in panelTabs) {\r\n            if (panelTabs[key]) {\r\n                activeTab = key;\r\n            }\r\n        }\r\n\r\n        const activeTabs = {\r\n            'showNewRecordTab': \r\n                <TabNewRecord panelData={panelData}\r\n                    pointsData={pointsData}\r\n                    newRecordData={newRecordData}\r\n                    insertNewRecordModalData={insertNewRecordModal} />,\r\n            'showLogTab':\r\n                <TabLog panelData={panelData} \r\n                    pointsData={pointsData}\r\n                    paginatorData={paginators.tabLogPage}\r\n                    logData={logData}\r\n                    logSearchFieldsData={logSearchFields}\r\n                    deleteRecordModalData={deleteRecordModal}\r\n                    updateRecordModalData={updateRecordModal} />,\r\n            'showUsersTab':\r\n                <TabUsers panelData={panelData} \r\n                    usersData={usersData} \r\n                    paginatorData={paginators.tabUsersPage}\r\n                    usersSearchFieldsData={usersSearchFields}\r\n                    lockUserModalData={lockUserModal}\r\n                    updateUserModalData={updateUserModal} />,\r\n            'default':\r\n                <TabNewRecord panelData={panelData}\r\n                    pointsData={pointsData}\r\n                    newRecordData={newRecordData}\r\n                    insertNewRecordModalData={insertNewRecordModal} />\r\n        };\r\n\r\n        return (activeTabs[activeTab] || activeTabs['default']);\r\n    };\r\n\r\n    const doSelect = async (selectData) => {\r\n        const textResponse = await fetchData(\r\n            selectData.apiMethod,\r\n            selectData.searchParams,\r\n            ...loadingTriggers\r\n        );\r\n\r\n        const response = {\r\n            message: textResponse,\r\n            methodName: selectData.methodName,\r\n            representError: (errorInfo) => {\r\n                dispatch({\r\n                    type: 'setInfoBox',\r\n                    infoBoxData: { variant: 'danger', text: errorInfo, show: true }\r\n                });\r\n            }\r\n        };\r\n\r\n        if (!processException(response)) {\r\n            const jsonResponse = JSON.parse(textResponse);\r\n            selectData.processResult(jsonResponse);\r\n        }\r\n    };\r\n\r\n    const selectPoints = async () => {\r\n        const searchParams = {\r\n            id: '0'\r\n        };\r\n\r\n        const selectData = {\r\n            apiMethod: 'select_points',\r\n            searchParams: searchParams,\r\n            methodName: 'MainInspectorPanel.selectPoints()',\r\n            processResult: (jsonResponse) => {\r\n                dispatch({\r\n                    type: 'setPointsData',\r\n                    pointsData: jsonResponse.points\r\n                });\r\n            }\r\n        };\r\n\r\n        await doSelect(selectData);\r\n    };\r\n\r\n    const selectExits = async () => {\r\n        const searchParams = {\r\n            page:       (paginators.tabLogPage - 1),\r\n            date:       logSearchFields.date,\r\n            userfio:    logSearchFields.userFio,\r\n            userid:     logSearchFields.userID,\r\n            objectname: logSearchFields.objectName\r\n        };\r\n\r\n        const selectData = {\r\n            apiMethod: 'select_exits',\r\n            searchParams: searchParams,\r\n            methodName: 'MainInspectorPanel.selectExits()',\r\n            processResult: (jsonResponse) => {\r\n                dispatch({\r\n                    type: 'setLogData',\r\n                    logData: jsonResponse\r\n                });\r\n            }\r\n        };\r\n\r\n        await doSelect(selectData);\r\n    };\r\n\r\n    const selectUsers = async () => {\r\n        const searchParams = {\r\n            page: (paginators.tabUsersPage - 1),\r\n            userfio: usersSearchFields.userFio\r\n        };\r\n\r\n        const selectData = {\r\n            apiMethod: 'select_users',\r\n            searchParams: searchParams,\r\n            methodName: 'MainInspectorPanel.selectUsers()',\r\n            processResult: (jsonResponse) => {\r\n                dispatch({\r\n                    type: 'setUsersData',\r\n                    usersData: jsonResponse\r\n                });\r\n            }\r\n        };\r\n\r\n        await doSelect(selectData);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <MainInspectorPanelDispatch.Provider value={dispatch}>\r\n                <MainMenu data={panelTabs} panelData={panelData} />\r\n                <br />\r\n                <InfoBox data={infoBox} />\r\n                <br />\r\n                {getActiveTab()}\r\n                <br />\r\n            </MainInspectorPanelDispatch.Provider>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MainInspectorPanel;\r\n","import React, { useContext, useState } from 'react';\r\nimport './CreatePasswordForm.css';\r\nimport { Row, Col, Form, Button, Alert } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUserCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport fetchData from 'App/Utils/fetchData';\r\nimport processException from 'App/Utils/processException';\r\nimport { AppDispatch } from 'App/Utils/useAppReducer';\r\n\r\n\r\nfunction CreatePasswordForm(props) {\r\n\r\n    const appDispatch = useContext(AppDispatch);\r\n\r\n    const { panelData } = props;\r\n\r\n    const loadingTriggers = [\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: true }); },\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: false }) }\r\n    ];\r\n\r\n    const [credentials, setCredentials] = useState({\r\n        pwd: '',\r\n        pwdRepeat: '',\r\n        buttonActive: false\r\n    });\r\n\r\n    const { pwdRepeat, buttonActive} = credentials;\r\n\r\n    const handleChange = (e) => {\r\n        const target = e.target;\r\n        const name = target.name;\r\n        const value = target.value;\r\n\r\n        setCredentials((prevCredentials) => {\r\n            let active = false;\r\n\r\n            if (name === 'pwd') {\r\n                active = (value.length !== 0 && value === prevCredentials.pwdRepeat);\r\n            } else if (name === 'pwdRepeat') {\r\n                active = (value.length !== 0 && value === prevCredentials.pwd);\r\n            }\r\n\r\n            return { \r\n                ...prevCredentials, \r\n                [name]: value, \r\n                buttonActive: active \r\n            };\r\n        });\r\n    };\r\n\r\n    const handleKeyPress = async (e) => {\r\n        const charCode = e.charCode;\r\n        //'Enter' key is pressed\r\n        if (charCode === 13 && buttonActive) {\r\n            await updateUser();\r\n            keepWorkspace();\r\n        }\r\n    };\r\n\r\n    const handleClick = async () => {\r\n        await updateUser();\r\n        keepWorkspace();\r\n    };\r\n\r\n    async function updateUser() {\r\n        const updatedUser = {\r\n            id: panelData.userID,\r\n            fio: panelData.userFIO,\r\n            pass: pwdRepeat,\r\n            firstlogin: 0\r\n        };\r\n\r\n        const textResponse = await fetchData(\r\n            'update_user',\r\n            updatedUser,\r\n            ...loadingTriggers\r\n        );\r\n\r\n        const response = {\r\n            message: textResponse,\r\n            methodName: 'CreatePasswordForm.updateUser()'\r\n        };\r\n\r\n        if (!processException(response)) {\r\n            return textResponse;\r\n        } else {\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n    async function keepWorkspace() {\r\n        const textResponse = await fetchData(\r\n            'keep_workspace',\r\n            { id: '0' },\r\n            ...loadingTriggers\r\n        );\r\n\r\n        const response = {\r\n            message: textResponse,\r\n            methodName: 'CreatePasswordForm.keepWorkspace()'\r\n        };\r\n\r\n        if (!processException(response)) {\r\n            const panelDataJSON = JSON.parse(textResponse);\r\n            \r\n            appDispatch({\r\n                type: 'setPanelData', \r\n                panelData: panelDataJSON\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <Row>\r\n            <Col lg={12}>\r\n                <Alert variant=\"success\">\r\n                    <FontAwesomeIcon icon={faUserCircle} size=\"lg\" />\r\n                    &nbsp;Первичный вход в систему. Пожалуйста, измените пароль на новый (уникальный) для своей учетной записи.\r\n                </Alert>\r\n            </Col>\r\n            <Col lg={12}>\r\n                <Form.Group>\r\n                    <Form.Label>Пользователь:</Form.Label>\r\n                    <Form.Control type=\"text\" name=\"usr\" readOnly value={panelData.userFIO} />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Новый пароль:</Form.Label>\r\n                    <Form.Control type=\"password\" name=\"pwd\" onChange={handleChange} onKeyPress={handleKeyPress} />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Новый пароль (повторно):</Form.Label>\r\n                    <Form.Control type=\"password\" name=\"pwdRepeat\" onChange={handleChange} onKeyPress={handleKeyPress} />\r\n                </Form.Group>\r\n                <Button disabled={!buttonActive} variant=\"primary\" size=\"lg\" block onClick={handleClick} >Изменить</Button>\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n\r\nexport default CreatePasswordForm;\r\n","import React, { useState, useContext } from 'react';\r\nimport './LoginFormLockedUser.css';\r\nimport { Row, Col, Form, Button, Alert } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faInfoCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { AppDispatch } from 'App/Utils/useAppReducer';\r\nimport fetchData from 'App/Utils/fetchData';\r\nimport processException from 'App/Utils/processException';\r\n\r\n\r\nfunction LoginFormLockedUser(props) {\r\n\r\n    const appDispatch = useContext(AppDispatch);\r\n\r\n    const loadingTriggers = [\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: true }); },\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: false }) }\r\n    ];\r\n\r\n    const [credentials, setCredentials] = useState({\r\n        id: 'isuservalid',\r\n        usr: '',\r\n        pwd: '',\r\n        grr: ''\r\n    });\r\n\r\n    const handleChange = (e) => {\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n\r\n        setCredentials((prevCredentials) => (\r\n            {...prevCredentials, [name]: value}\r\n        ));\r\n    };\r\n\r\n    const handleKeyPress = async (e) => {\r\n        const charCode = e.charCode;\r\n        //'Enter' key is pressed\r\n        if (charCode === 13) {\r\n            const userParams = await doLogin();\r\n            loadWorkspace(userParams);\r\n        }\r\n    };\r\n\r\n    const handleClick = async () => {\r\n        const userParams = await doLogin();\r\n        loadWorkspace(userParams);\r\n    };\r\n\r\n    async function loadWorkspace(userParams) {\r\n        if (userParams !== null) {\r\n            const data = JSON.parse(userParams);\r\n\r\n            if (data.isvalid) {\r\n                const textResponse = await fetchData(\r\n                    'load_workspace',\r\n                    { userid: data.userid, userrole: data.userrole },\r\n                    ...loadingTriggers\r\n                );\r\n\r\n                const response = {\r\n                    message: textResponse,\r\n                    methodName: 'LoginForm.loadWorkspace()'\r\n                };\r\n                \r\n                if (!processException(response)) {\r\n                    const panelDataJSON = JSON.parse(textResponse);\r\n                    \r\n                    appDispatch({\r\n                        type: 'setPanelData', \r\n                        panelData: panelDataJSON\r\n                    });\r\n                }\r\n            } else {\r\n                appDispatch({ type: 'alertInvalidCredentials' });\r\n            }\r\n        }\r\n    }\r\n    \r\n    async function doLogin() {\r\n        const textResponse = await fetchData(\r\n            'login',\r\n            credentials,\r\n            ...loadingTriggers\r\n        );\r\n\r\n        const response = {\r\n            message: textResponse,\r\n            methodName: 'LoginForm.doLogin()'\r\n        };\r\n        \r\n        if (!processException(response)) {\r\n            return textResponse;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Row>\r\n            <Col lg={12}>\r\n                <Alert variant=\"danger\">\r\n                    <FontAwesomeIcon icon={faInfoCircle} size=\"lg\" />\r\n                    &nbsp;Ваша учетная запись заблокирована.\r\n                </Alert>\r\n            </Col>\r\n            <Col lg={12}>\r\n                <Form.Group>\r\n                    <Form.Label>Login:</Form.Label>\r\n                    <Form.Control type=\"text\" name=\"usr\" onChange={handleChange} onKeyPress={handleKeyPress} />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Password:</Form.Label>\r\n                    <Form.Control type=\"password\" name=\"pwd\" onChange={handleChange} onKeyPress={handleKeyPress} />\r\n                </Form.Group>\r\n                <Button variant=\"primary\" size=\"lg\" block onClick={handleClick} >Вход</Button>\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n\r\nexport default LoginFormLockedUser;","import React, { useContext } from 'react';\r\nimport './MainMenu.css';\r\nimport {AppDispatch} from 'App/Utils/useAppReducer';\r\nimport {MainInspectorPanelDispatch} from 'App/Utils/useMainInspectorPanelReducer';\r\nimport fetchData from 'App/Utils/fetchData';\r\nimport processException from 'App/Utils/processException';\r\nimport { Row, Col, Button, ButtonGroup } from 'react-bootstrap';\r\n\r\n\r\nfunction MainMenu(props) {\r\n\r\n    const appDispatch = useContext(AppDispatch);\r\n    const mainInspectorPanelDispatch = useContext(MainInspectorPanelDispatch);\r\n\r\n    const loadingTriggers = [\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: true }); },\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: false }); }\r\n    ];\r\n\r\n    const { data, panelData } = props;\r\n\r\n    const logoutIsClicked = async () => {\r\n        const textResponse = await fetchData(\r\n            'logout',\r\n            { id: '0' },\r\n            ...loadingTriggers\r\n        );\r\n\r\n        const response = {\r\n            message: textResponse,\r\n            methodName: 'InspectorPanel.MainMenu.logoutIsClicked()'\r\n        };\r\n\r\n        if (!processException(response)) {\r\n            appDispatch({\r\n                type: 'setPanelData',\r\n                panelData: {\r\n                    panelID: '0',\r\n                    userID: '',\r\n                    userFIO: '',\r\n                    depID: '',\r\n                    depName: ''\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    const menuButtonIsClicked = (e) => {\r\n        const menuButtonID = e.target.id;\r\n\r\n        let freshPanelTabs = {};\r\n\r\n        for (let item in data) {\r\n            if (item === menuButtonID) {\r\n                freshPanelTabs[item] = true;\r\n            } else {\r\n                freshPanelTabs[item] = false;\r\n            }\r\n        }\r\n        \r\n        mainInspectorPanelDispatch({\r\n            type: 'setPanelTabs',\r\n            panelTabs: freshPanelTabs\r\n        });\r\n    };\r\n\r\n    const goToDocXIsClicked = () => {\r\n        window.location = 'http://kom-es01-app25:8888/docx/';\r\n    };\r\n\r\n    const goToActsIsClicked = () => {\r\n        window.location = \"http://kom-es01-app25:8888/acts/\";\r\n    };\r\n\r\n    return (\r\n        <Row>\r\n            <Col lg={12}>\r\n                <ButtonGroup className=\"flex-wrap\">\r\n                    <Button variant=\"outline-secondary\" active={data.showNewRecordTab} onClick={menuButtonIsClicked} id=\"showNewRecordTab\">Новая запись</Button>\r\n                    <Button variant=\"outline-secondary\" active={data.showLogTab} onClick={menuButtonIsClicked} id=\"showLogTab\">Журнал</Button>\r\n                    <Button variant=\"outline-info\" onClick={goToDocXIsClicked} >Акт обследования</Button>\r\n                    {(panelData.depID === 2 || panelData.depID === 3) &&\r\n                        <Button variant=\"outline-info\" onClick={goToActsIsClicked} >Бланки Ухта</Button>\r\n                    }\r\n                    <Button variant=\"primary\" onClick={logoutIsClicked} >Выйти</Button>\r\n                </ButtonGroup>\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n\r\nexport default MainMenu;\r\n","import React from 'react';\r\nimport './Menu.css';\r\nimport { Row, Col, InputGroup, FormControl } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUser, faBuilding } from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\nfunction Menu(props) {\r\n\r\n    const { data } = props;\r\n\r\n\r\n    return (\r\n        <Row>\r\n            <Col lg={12}>\r\n                <Row>\r\n                    <Col lg={4}>\r\n                        <InputGroup className=\"sav2-mb-1\">\r\n                            <InputGroup.Prepend>\r\n                                <InputGroup.Text>\r\n                                    <FontAwesomeIcon icon={faUser} size=\"1x\" />\r\n                                    &nbsp;&nbsp;Сотрудник&nbsp;:\r\n                                </InputGroup.Text>\r\n                            </InputGroup.Prepend>\r\n                            <FormControl disabled value={data.userFIO} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    <Col lg={8}>\r\n                        <InputGroup className=\"sav2-mb-1\">\r\n                            <InputGroup.Prepend>\r\n                                <InputGroup.Text>\r\n                                    <FontAwesomeIcon icon={faBuilding} size=\"1x\" />\r\n                                    &nbsp;&nbsp;Подразделение&nbsp;:\r\n                                </InputGroup.Text>\r\n                            </InputGroup.Prepend>\r\n                            <FormControl disabled value={data.depName} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                </Row>\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n\r\nexport default Menu;\r\n","import React, { useContext } from 'react';\r\nimport './Search.css';\r\nimport { Row } from 'react-bootstrap';\r\nimport SearchItem from 'App/WorkPanels/MainInspectorPanel/Components/TabLog/Search/SearchItem';\r\nimport { MainInspectorPanelDispatch } from 'App/Utils/useMainInspectorPanelReducer';\r\n\r\n\r\nfunction Search(props) {\r\n\r\n    const {data} = props;\r\n\r\n    const mainInspectorPanelDispatch = useContext(MainInspectorPanelDispatch);\r\n\r\n    const doSearch = (searchParams) => {\r\n        mainInspectorPanelDispatch({\r\n            type: 'setLogSearchFields',\r\n            logSearchFields: searchParams\r\n        });\r\n    };\r\n\r\n    const datepickerData = {\r\n        type: \"datepicker\",\r\n        params: {\r\n            format: \"dd-mm-yyyy\",\r\n            viewMode: \"months\",\r\n            minViewMode: \"days\",\r\n            language: 'ru'\r\n        }\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <p>Поиск записей: </p>\r\n            <Row>\r\n                <SearchItem name=\"date\"\r\n                    size={4}\r\n                    label=\"Дата выхода:\"\r\n                    handleSearch={doSearch}\r\n                    mask={datepickerData}\r\n                    currentVal={data.date} />\r\n                <SearchItem name=\"objectName\"\r\n                    size={6}\r\n                    label=\"Объект выхода:\"\r\n                    handleSearch={doSearch}\r\n                    currentVal={data.objectName} />\r\n            </Row>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default Search;","import React, { useContext } from 'react';\r\nimport './TabLog.css';\r\nimport Menu from './Menu';\r\nimport Paginator from 'App/WorkPanels/MainInspectorPanel/Components/TabLog/Paginator';\r\nimport Search from './Search';\r\nimport TableInfo from 'App/WorkPanels/MainInspectorPanel/Components/TabLog/TableInfo';\r\nimport TableField from 'App/WorkPanels/MainInspectorPanel/Components/TabLog/TableField';\r\nimport DeleteRecordModal from 'App/WorkPanels/MainInspectorPanel/Components/TabLog/DeleteRecordModal';\r\nimport UpdateRecordModal from 'App/WorkPanels/MainInspectorPanel/Components/TabLog/UpdateRecordModal';\r\nimport { MainInspectorPanelDispatch } from 'App/Utils/useMainInspectorPanelReducer';\r\n\r\n\r\nfunction TabLog(props) {\r\n\r\n    const mainInspectorPanelDispatch = useContext(MainInspectorPanelDispatch);\r\n\r\n    const {\r\n        panelData,\r\n        pointsData,\r\n        paginatorData,\r\n        logData,\r\n        logSearchFieldsData,\r\n        deleteRecordModalData,\r\n        updateRecordModalData\r\n    } = props;\r\n\r\n    const handleItemClick = (pageNumber) => {\r\n        mainInspectorPanelDispatch({\r\n            type: 'setPaginators',\r\n            paginators: { tabLogPage: pageNumber }\r\n        });\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Menu data={panelData} />\r\n            <hr />\r\n            <Search data={logSearchFieldsData} />\r\n            <hr />\r\n            <TableInfo countRows={logData.countrows} />\r\n            <hr />\r\n            <Paginator curPage={paginatorData}\r\n                perPage={logData.perpage}\r\n                countRows={logData.countrows}\r\n                onItemClick={handleItemClick}\r\n                onPrevClick={handleItemClick}\r\n                onNextClick={handleItemClick}\r\n                onFirstClick={handleItemClick}\r\n                onLastClick={handleItemClick} />\r\n            <TableField rowItems={logData.rowitems} />\r\n            <hr />\r\n            <Paginator curPage={paginatorData}\r\n                perPage={logData.perpage}\r\n                countRows={logData.countrows}\r\n                onItemClick={handleItemClick}\r\n                onPrevClick={handleItemClick}\r\n                onNextClick={handleItemClick}\r\n                onFirstClick={handleItemClick}\r\n                onLastClick={handleItemClick} />\r\n            <br />\r\n            <br />\r\n            <DeleteRecordModal data={deleteRecordModalData} />\r\n            <UpdateRecordModal data={updateRecordModalData} \r\n                pointsData={pointsData}/>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default TabLog;\r\n","import React, { useContext, useEffect } from 'react';\r\nimport './InspectorPanel.css';\r\nimport useMainInspectorPanelReducer, { MainInspectorPanelDispatch } from 'App/Utils/useMainInspectorPanelReducer';\r\nimport { AppDispatch } from 'App/Utils/useAppReducer';\r\nimport MainMenu from './Components/MainMenu';\r\nimport InfoBox from 'App/WorkPanels/MainInspectorPanel/Components/InfoBox';\r\nimport TabNewRecord from 'App/WorkPanels/MainInspectorPanel/Components/TabNewRecord';\r\nimport TabLog from './Components/TabLog';\r\nimport fetchData from 'App/Utils/fetchData';\r\nimport processException from 'App/Utils/processException'; \r\n\r\n\r\nfunction InspectorPanel(props) {\r\n\r\n    const appDispatch = useContext(AppDispatch);\r\n\r\n    const loadingTriggers = [\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: true }); },\r\n        () => { appDispatch({ type: 'setIsLoad', isLoad: false }); }\r\n    ];\r\n\r\n    const { panelData } = props;\r\n\r\n    //Reducer -- start:\r\n    const initialState = {\r\n        infoBox: {\r\n            variant: 'info',\r\n            text: '',\r\n            show: false\r\n        },\r\n        panelTabs: {\r\n            showNewRecordTab : true,\r\n            showLogTab: false,\r\n            showUsersTab: false\r\n        },\r\n        paginators: {\r\n            tabLogPage: 1,\r\n            tabUsersPage: 1\r\n        },\r\n        //TabNewCard\r\n        pointsData: [],\r\n        newRecordData: {\r\n            userid: panelData.userID,\r\n            pointid: '1',\r\n            point_description: '',\r\n            time_exit: '',\r\n            time_return: '',\r\n            objects: []\r\n        },\r\n        insertNewRecordModal: {\r\n            show: false\r\n        },\r\n        //TabLog\r\n        logSearchFields: {\r\n            date: '',\r\n            userFio: '',\r\n            userID: panelData.userID.toString(),\r\n            objectName: ''\r\n        },\r\n        logData: {\r\n            countrows: 0,\r\n            page: 0,\r\n            perpage: 25,\r\n            rowitems: []\r\n        },\r\n        deleteRecordModal: {\r\n            show: false,\r\n            exitID: '0'\r\n        },\r\n        updateRecordModal: {\r\n            show: false,\r\n            exitID: '0'\r\n        }\r\n    };\r\n\r\n    const [state, dispatch] = useMainInspectorPanelReducer(initialState);\r\n    //Reducer -- end;\r\n\r\n    const {\r\n        infoBox,\r\n        panelTabs,\r\n        paginators,\r\n\r\n        pointsData,\r\n        newRecordData,\r\n        insertNewRecordModal,\r\n\r\n        logSearchFields,\r\n        logData,\r\n        deleteRecordModal,\r\n        updateRecordModal\r\n    } = state;\r\n\r\n    //Points\r\n    useEffect(() => {\r\n        if (panelTabs.showNewRecordTab) {\r\n            selectPoints();\r\n        }//eslint-disable-next-line\r\n    }, [panelTabs.showNewRecordTab]);\r\n\r\n    //Log\r\n    useEffect(() => {\r\n        if (panelTabs.showLogTab &&\r\n            !deleteRecordModal.show &&\r\n            !updateRecordModal.show) {\r\n            selectExits();\r\n        }//eslint-disable-next-line\r\n    }, [\r\n        panelTabs.showLogTab,\r\n        paginators.tabLogPage,\r\n        logSearchFields,\r\n        deleteRecordModal,\r\n        updateRecordModal\r\n    ]);\r\n\r\n    const getActiveTab = () => {\r\n        let activeTab = 'default';\r\n\r\n        for (let key in panelTabs) {\r\n            if (panelTabs[key]) {\r\n                activeTab = key;\r\n            }\r\n        }\r\n\r\n        const activeTabs = {\r\n            'showNewRecordTab': \r\n                <TabNewRecord panelData={panelData}\r\n                    pointsData={pointsData}\r\n                    newRecordData={newRecordData}\r\n                    insertNewRecordModalData={insertNewRecordModal} />,\r\n            'showLogTab':\r\n                <TabLog panelData={panelData} \r\n                    pointsData={pointsData}\r\n                    paginatorData={paginators.tabLogPage}\r\n                    logData={logData}\r\n                    logSearchFieldsData={logSearchFields}\r\n                    deleteRecordModalData={deleteRecordModal}\r\n                    updateRecordModalData={updateRecordModal} />,\r\n            'default':\r\n                <TabNewRecord panelData={panelData}\r\n                    pointsData={pointsData}\r\n                    newRecordData={newRecordData}\r\n                    insertNewRecordModalData={insertNewRecordModal} />\r\n        };\r\n\r\n        return (activeTabs[activeTab] || activeTabs['default']);\r\n    };\r\n\r\n    const doSelect = async (selectData) => {\r\n        const textResponse = await fetchData(\r\n            selectData.apiMethod,\r\n            selectData.searchParams,\r\n            ...loadingTriggers\r\n        );\r\n\r\n        const response = {\r\n            message: textResponse,\r\n            methodName: selectData.methodName,\r\n            representError: (errorInfo) => {\r\n                dispatch({\r\n                    type: 'setInfoBox',\r\n                    infoBoxData: { variant: 'danger', text: errorInfo, show: true }\r\n                });\r\n            }\r\n        };\r\n\r\n        if (!processException(response)) {\r\n            const jsonResponse = JSON.parse(textResponse);\r\n            selectData.processResult(jsonResponse);\r\n        }\r\n    };\r\n\r\n    const selectPoints = async () => {\r\n        const searchParams = {\r\n            id: '0'\r\n        };\r\n\r\n        const selectData = {\r\n            apiMethod: 'select_points',\r\n            searchParams: searchParams,\r\n            methodName: 'InspectorPanel.selectPoints()',\r\n            processResult: (jsonResponse) => {\r\n                dispatch({\r\n                    type: 'setPointsData',\r\n                    pointsData: jsonResponse.points\r\n                });\r\n            }\r\n        };\r\n\r\n        await doSelect(selectData);\r\n    };\r\n\r\n    const selectExits = async () => {\r\n        const searchParams = {\r\n            page:       (paginators.tabLogPage - 1),\r\n            date:       logSearchFields.date,\r\n            userfio:    logSearchFields.userFio,\r\n            userid:     logSearchFields.userID,\r\n            objectname: logSearchFields.objectName\r\n        };\r\n\r\n        const selectData = {\r\n            apiMethod: 'select_exits',\r\n            searchParams: searchParams,\r\n            methodName: 'InspectorPanel.selectExits()',\r\n            processResult: (jsonResponse) => {\r\n                dispatch({\r\n                    type: 'setLogData',\r\n                    logData: jsonResponse\r\n                });\r\n            }\r\n        };\r\n\r\n        await doSelect(selectData);\r\n    };\r\n\r\n\r\n    return (\r\n        <div>\r\n            <MainInspectorPanelDispatch.Provider value={dispatch}>\r\n                <MainMenu data={panelTabs} panelData={panelData} />\r\n                <br />\r\n                <InfoBox data={infoBox} />\r\n                <br />\r\n                {getActiveTab()}\r\n                <br />\r\n            </MainInspectorPanelDispatch.Provider>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default InspectorPanel;\r\n","import React from 'react';\r\nimport './Workspace.css';\r\nimport { Container } from 'react-bootstrap';\r\nimport LoginForm from 'App/WorkPanels/LoginForm';\r\nimport MainInspectorPanel from 'App/WorkPanels/MainInspectorPanel';\r\nimport CreatePasswordForm from 'App/WorkPanels/CreatePasswordForm';\r\nimport LoginFormLockedUser from 'App/WorkPanels/LoginFormLockedUser';\r\nimport InspectorPanel from 'App/WorkPanels/InspectorPanel';\r\n\r\n\r\nfunction Workspace(props) {\r\n\r\n    const { wsID, panelData } = props;\r\n\r\n    const getWorkPanel = (ID) => {\r\n        switch (ID) {\r\n            case '-2': \r\n                return <CreatePasswordForm panelData={panelData} />;\r\n            case '-1':\r\n                return <LoginFormLockedUser />;\r\n            case '0':\r\n                return <LoginForm />;\r\n            case '1':\r\n                return <MainInspectorPanel panelData={panelData} />;\r\n            case '3':\r\n                return <InspectorPanel panelData={panelData} />;\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Container className=\"sav2-main-cont\">\r\n            {getWorkPanel(wsID)}\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default Workspace;\r\n","import React, { useEffect } from 'react';\r\nimport './App.css';\r\nimport useAppReducer, { AppDispatch } from 'App/Utils/useAppReducer';\r\nimport fetchData from 'App/Utils/fetchData';\r\nimport processException from 'App/Utils/processException';\r\nimport TopHeader from 'App/TopHeader';\r\nimport LightCover from 'App/LightCover';\r\nimport Workspace from 'App/Workspace';\r\n\r\nfunction App(props) {\r\n\r\n    //Reducer -- start:\r\n    const initialState = {\r\n        isLoad: true,\r\n        panelData: {\r\n            panelID: null,\r\n            userID: '',\r\n            userFIO: '',\r\n            depID: '',\r\n            depName: ''\r\n        }\r\n    };\r\n\r\n    const [state, dispatch] = useAppReducer(initialState);\r\n    //Reducer -- end;\r\n\r\n    const { isLoad, panelData } = state;\r\n\r\n    const loadingTriggers = [\r\n        () => { dispatch({ type: 'setIsLoad', isLoad: true }); },\r\n        () => { dispatch({ type: 'setIsLoad', isLoad: false }); }\r\n    ];\r\n\r\n    useEffect(() => {\r\n        keepWorkspace();\r\n        //eslint-disable-next-line\r\n    }, []);\r\n\r\n    async function keepWorkspace() {\r\n        const textResponse = await fetchData(\r\n            'keep_workspace',\r\n            { id: '0' },\r\n            ...loadingTriggers\r\n        );\r\n\r\n        const response = {\r\n            message: textResponse,\r\n            methodName: 'App.keepWorkspace()'\r\n        }; \r\n\r\n        if (!processException(response)) {\r\n            const panelDataJSON = JSON.parse(textResponse);\r\n\r\n            dispatch({\r\n                type: 'setPanelData',\r\n                panelData: panelDataJSON\r\n            });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <AppDispatch.Provider value={dispatch}>\r\n                <TopHeader />\r\n                <Workspace wsID={panelData.panelID} panelData={panelData} />\r\n                <LightCover isLoading={isLoad} />\r\n            </AppDispatch.Provider>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './index.css';\r\nimport App from 'App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}